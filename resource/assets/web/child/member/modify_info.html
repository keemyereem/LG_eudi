<!DOCTYPE html>
 
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<html>
<head>
<script>

/*ë©ì¸ì§*/
if("" != ""){
    var msg = "".replace("<br>", "\n");
	alert(msg);
    
}

</script>

<!-- SET FILE PATH :: compatibility ie9 code -->
<base href="../" />
<!--[if IE]><script type="text/javascript">
    // Fix for IE ignoring relative base tags.
    (function() {
        var baseTag = document.getElementsByTagName('base')[0];
        baseTag.href = baseTag.href;
    })();
</script><![endif]-->
<meta charset="UTF-8">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
<link rel="canonical" href="https://eudi.lgchem.com/child/main.do" />
<meta name="format-detection" content="telephone=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="no-cache"/>
<meta http-equiv="Expires" content="0"/>
<meta http-equiv="Pragma" content="no-cache"/>

<!-- TITLE -->
<title>EuDi</title>

    <!-- 스마트 케이스 팝업 추가 -->


<!--2019-09-16 4M 김현빈-->
<!-- common css file-->

<link rel="stylesheet" href="/resource/assets/web/css/main.css?version=2.1">
<link rel="stylesheet" href="/resource/assets/web/css/mediaQuery.css?version=2.1">


<!-- child css file -->
<link rel="stylesheet" href="/resource/assets/web/child/css/common.css?20230223060144">
<link rel="stylesheet" href="/resource/assets/web/child/css/slick.css?20230223060144">
<link rel="stylesheet" href="/resource/assets/web/child/css/sub.css?20230223060144">
<link rel="stylesheet" href="/resource/assets/web/child/css/font.css?20230223060144">



<!-- child js file--> 
<script type="text/javascript" src="/resource/assets/web/child/js/lib/jquery-1.11.3.min.js?version=2.0"></script>
<script type="text/javascript" src="/resource/assets/web/child/js/lib/jquery-ui-1.11.3.min.js?version=2.0"></script>
<script type="text/javascript" src="/resource/assets/web/child/js/lib/jquery.easing.1.3.js?version=2.0"></script>
<script type="text/javascript" src="/resource/assets/web/child/js/common.js?20230223060144"></script>
<script type="text/javascript" src="/resource/assets/web/child/js/lib/slick.min.js"></script>

<!-- common js file-->
<script type="text/javascript" src="/resource/assets/web/js/jquery.cookie.js?version=2.0"></script>
<script type="text/javascript" src="/resource/assets/common/js/common.js?20230223060144"></script>
  <script>
  
  function setCookie(cname, cvalue, exdays) {
	  const d = new Date();
	  d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
	  let expires = "expires="+d.toUTCString();
	  document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
	}

	function getCookie(cname) {
	  let name = cname + "=";
	  let ca = document.cookie.split(';');
	  for(let i = 0; i < ca.length; i++) {
	    let c = ca[i];
	    while (c.charAt(0) == ' ') {
	      c = c.substring(1);
	    }
	    if (c.indexOf(name) == 0) {
	      return c.substring(name.length, c.length);
	    }
	  }
	  return "";
	}
	
      $(function(){
        selEvent.init();
        fileEvent.init();

      });
      
      function maxLengthCheck(object){
  		if(object.value.length > object.maxLength) {
  			object.value = object.value.slice(0, object.maxLength);
  		}
  	}

      function fnFileReset1(gubun){
    	  $("#add_file1").val("");
    	  $("#add_file_name1").val("");
          $(".upload_field1").hide();
   		  if(gubun == "Y"){
   			  $("#delYn1").val("Y");
   			 $("#changeChk").val("Y");
   		  }
      }
      
      function fnFileReset2(gubun){
    	  $("#add_file2").val("");
    	  $("#add_file_name2").val("");
    	  $(".upload_field2").hide();
    	  if(gubun == "Y"){
			  $("#delYn2").val("Y");
			  $("#changeChk").val("Y");
		  }

      }
      
      function fnFileReset3(gubun){
    	  $("#add_file3").val("");
    	  $("#add_file_name3").val("");
    	  $(".upload_field3").hide();
    	  if(gubun == "Y"){
			  $("#delYn3").val("Y");
			  $("#changeChk").val("Y");
		  }
      }
      
      
  function fnAddChild(){

    	  if("${myInfo.mChildNumber}"  == 3){
    		  alert("아이 정보는 최대 3명까지 등록 가능합니다.");
   		   return;
    	  }
    	  
    	  
    	  if($("#child_02").css("display") == "none" && $("#child_03").css("display") == "none" ){   
    		  $("#child_02").show();
    		  
    		  $("#cName_01").attr("required","required");
    		 // $("#cBirth_01").attr("required","required");
    		  $("#cChargNurseId_01").attr("required","required");
    		  //$("#cInitialPrescription_01").attr("required","required");
    		  $("#cHospitalName_01").attr("required","required");
    		  
    		  $("#mChildNumber").val(1);
    	   } else if($("#child_02").css("display") != "none" && $("#child_03").css("display") == "none" ){    
    		   $("#child_03").show();
    		   
				$("#cName_02").attr("required","required");
				//$("#cBirth_02").attr("required","required");
			    $("#cChargNurseId_02").attr("required","required");
				//$("#cInitialPrescription_02").attr("required","required");
				$("#cHospitalName_02").attr("required","required");
       		  
        		  
				$("#mChildNumber").val(3-$("#oriChildNumber").val());
    	  }  else {
    		   alert("아이 정보는 최대 3명까지 등록 가능합니다.");
    		   return;
    	  }
    	  
      }
      
      function fnDeleteChild(idx){
    	  var result = confirm("추가한 환아 내역을 삭제하시겠습니까?");
		  if(result){
			  if(idx == "02"){
				  
				  if($("#child_03").css("display") != "none" ){
						 $("#child_03").hide();
			    		  
			    		  $("#cName_02").removeAttr("required");
			    		  $("#cBirth_02").removeAttr("required");
			    		  $("#cChargNurseId_02").removeAttr("required");
			    		  $("#cInitialPrescription_02").removeAttr("required");
			    		  $("#cHospitalName_02").removeAttr("required");
			    		  
			    		  $("#mChildNumber").val($("#mChildNumber").val() - 1);
				  } else {
					  $("#child_02").hide();
		    		  
		    		  $("#cName_01").removeAttr("required");
		    		  $("#cBirth_01").removeAttr("required");
		    		  $("#cChargNurseId_01").removeAttr("required");
		    		  $("#cInitialPrescription_01").removeAttr("required");
		    		  $("#cHospitalName_01").removeAttr("required");
				  }

	    		  
	    		  $("#mChildNumber").val($("#mChildNumber").val() - 1);
			  } else {
	 			 $("#child_03").hide();
	    		  
	    		  $("#cName_02").removeAttr("required");
	    		  $("#cBirth_02").removeAttr("required");
	    		  $("#cChargNurseId_02").removeAttr("required");
	    		  $("#cInitialPrescription_02").removeAttr("required");
	    		  $("#cHospitalName_02").removeAttr("required");
	    		  
	    		  $("#mChildNumber").val($("#mChildNumber").val() - 1);
			  }
		  }
    	  
      }


  	function memberUpdate(){

 		 if($("#changeChk").val() == "N"){
			alert("변경된 정보가 없습니다");
			return;
 	      }
 	      
  		var frm = 'frmJoin';
  		
  		if($("#password").val() != "" || $("#password_confirm").val() != ""){
  			$("#password").attr("required","required");
			$("#password_confirm").attr("required","required");
  		}
  		
  		
  		$("#cBirth").val($("#sel01").val()+"-"+$("#sel02").val()+"-"+$("#sel03").val());
		$("#cBirth_01").val($("#sel01_01").val()+"-"+$("#sel02_01").val()+"-"+$("#sel03_01").val());
		$("#cBirth_02").val($("#sel01_02").val()+"-"+$("#sel02_02").val()+"-"+$("#sel03_02").val());
		
		$("#cInitialPrescription").val($("#sel04").val()+"-"+$("#sel05").val()+"-"+$("#sel06").val());
		$("#cInitialPrescription_01").val($("#sel04_01").val()+"-"+$("#sel05_01").val()+"-"+$("#sel06_01").val());
		$("#cInitialPrescription_02").val($("#sel04_02").val()+"-"+$("#sel05_02").val()+"-"+$("#sel06_02").val());
  		
		if(checkValidation(frm)){
				//document.frmJoin.submit(); ajax로 변경
		  
				        var form = $('#frmJoin')[0];
					    var formData = new FormData(form);
					    
					    
						$.ajax({
							    url : $("#"+frm).attr("action"),
							    data : formData,
					            dataType : "json",
					            processData: false,    
					            contentType: false,      
					            type: "POST",
					            async: true,
					            cache: false,     
					            beforeSend: function(){$("#loading").show(); $("#div-dark").show();},
					            complete: function(){$("#loading").hide();  $("#div-dark").hide();},
					            success: function(obj){
							    	if(obj.result > 0){
										 alert("수정되었습니다");
				             		  } else {
				             		 	 alert("일시적인 오류 입니다,다시 시도해주세요.");
				             		  	return;
				             	      }	 
							    location.reload();
			 				}
						});
			  		
		
					
		}
		
		return false;
	}
  	
  	function ios_popup(){
        
    	if (getCookie('ioseudi') != null && getCookie('ioseudi') != '') {
    		    $('#eudi_ios').css("display","none");
			    $(".pop_mask").css("display","none");
			    return;
		} else {
			  popupInfo('ios');
			  return;
		}

  	}

  </script>
  </head>
  	<style>
	.dark {background-color:#B2B2B2;opacity:0.5;filter:Alpha(opacity:'30');width:100%;height:100%;top:0;left:0;position:fixed;z-index:9000;}
	</style>
  <body>
	  <div class="wrap wrap_sub">
      <!--// nav -->
      <div class="sub_top">
        <div class="nav">
          <div class="nav_inner">
            <h2 class="title">회원정보변경</h2>
            <div class="back"><a href="/child/main.do"><img src="${BASE_ROOT}/resource/assets/web/child/images/common/back.png" alt="뒤로가기" /></a></div>
            
          </div>
        </div>
      </div>
      <!-- nav //-->
      <!--// content -->
       <form:form commandName="MemberVO" id="frmJoin" name="frmJoin" method="post" action="/child/memberUpdate.do" enctype="multipart/form-data">
	  <input type="hidden" name="IDCHECK" value="">
	  <input type="hidden" name="oriChildNumber"  id="oriChildNumber" value="<c:out value="${myInfo.mChildNumber}"/>">
	  <input type="hidden" name="mChildNumber"  id="mChildNumber" value="0">
	  <input type="hidden" name="cIdx"  id="cIdx" value="<c:out value="${myInfo.cIdx}"/>">
	  <input type="hidden" id="changeChk" value="N">
	  <input type="hidden" name="cBirth" id="cBirth" value="">
	  <input type="hidden" name="cBirth_01" id="cBirth_01" value="">
	  <input type="hidden" name="cBirth_02" id="cBirth_02" value="">
      <input type="hidden" name="cInitialPrescription" id="cInitialPrescription" value="">
	  <input type="hidden" name="cInitialPrescription_01" id="cInitialPrescription_01" value="">
	  <input type="hidden" name="cInitialPrescription_02" id="cInitialPrescription_02" value="">
	 <input type="hidden" name="delYn1" id="delYn1" value="N">
	 <input type="hidden" name="delYn2" id="delYn2" value="N">
	 <input type="hidden" name="delYn3" id="delYn3" value="N">
	 <input type="hidden" name="mSelectChild" id="mSelectChild" value="${sessionScope.reChild}">
     <input type="hidden" name="mId" id="mId" value="${myInfo.mId}">

	 
	     <!--  2명일때 예외 상황이 발생
	     2명인데 2번째 선택 해서 추가 1인 안보임
      2명인데 1번째 선택 해서 추가  2가 안보임
	     
	      -->
	      
	        <c:if test="${myInfo.mChildNumber eq 1}">
			           			  <input type="hidden" name="childSort" value="1">
	           </c:if>
	           
	           
	           <c:if test="${myInfo.mChildNumber eq 2}">
		           <c:choose>
		           		<c:when test="${fn:split(myInfo.cIdx,',')[0] eq sessionScope.reChild}">
		           			  <input type="hidden" name="childSort" value="1">
		           		</c:when>
		           		<c:when test="${fn:split(myInfo.cIdx,',')[1] eq sessionScope.reChild}">
		           			  <input type="hidden" name="childSort" value="2">
		           		</c:when>
		           </c:choose>
	           </c:if>
	           
	              <c:if test="${myInfo.mChildNumber eq 3}">
		           <c:choose>
		           		<c:when test="${fn:split(myInfo.cIdx,',')[0] eq sessionScope.reChild}">
		           			  <input type="hidden" name="childSort" value="1">
		           		</c:when>
		           		<c:when test="${fn:split(myInfo.cIdx,',')[1] eq sessionScope.reChild}">
		           			  <input type="hidden" name="childSort" value="2">
		           		</c:when>
		           			<c:when test="${fn:split(myInfo.cIdx,',')[2] eq sessionScope.reChild}">
		           			  <input type="hidden" name="childSort" value="3">
		           		</c:when>
		           </c:choose>
	           </c:if>
	           
	           
      <div class="content con_sub con_modify">
        <div class="ipt_box">
          <div class="inner">
            <h3 class="info01">기본 정보</h3>
            <div class="tb">
              <table summary="기본 정보" cellpadding="0" cellspacing="0" border="0">
                <caption>기본 정보</caption>
                <colgroup>
                    <col style="width:110px;">
                    <col style="*">
                </colgroup>
                <tbody>
                  <tr>
                    <td class="tit"><p>아이디<span></span></p></td>
                    <td class="cont">
                      <p><c:out value="${myInfo.mId}"/></p>
                    </td>
                  </tr>
                  <tr>
                    <td class="tit"><p>비밀번호<span></span></p></td>
                    <td class="cont">
                     <div class="cont_inner">
                      <div class="input_row">
            						<span class="input_box">
            							<input type="password" id="password" name="password" class="ipt" minlength="8" maxlength="16" data-title="비밀번호를" title="비밀번호를" oninput="maxLengthCheck(this)">
            						</span>
            					</div>
            			<p class="info">비밀번호는 영문, 숫자를 포함하여 10자리 이상 또는 영문, 숫자, 특수문자를 포함하여 8자리 이상 입력해주세요.</p>
            		 </div>
                    </td>
                  </tr>
                  <tr>
                    <td class="tit"><p>비밀번호 확인<span></span></p></td>
                    <td class="cont">                   
                        <div class="input_row">
              						<span class="input_box">
              							<input type="password" id="password_confirm" name="password_confirm" equalTo="password" class="ipt" minlength="8" maxlength="16" data-title="비밀번호 확인를" title="비밀번호 확인를" oninput="maxLengthCheck(this)">
              						</span>
              					</div>                    
                    </td>
                  </tr>
                  <tr>
                    <td class="tit"><p>휴대폰번호</p></td>
                    <td class="cont">
                      <div class="select_tel">
                        <label for="modify_tel01"><c:out value="${myInfo.mCpnumber1}"/></label>
                        <select id="modify_tel01" name="mCpnumber1">
                            <option selected="selected">010</option>
                  			<option value="011">011</option>
                            <option value="017">017</option>
                            <option value="018">018</option>
                            <option value="019">019</option>
                        </select>
                      </div>
                      <span class="hyphen">-</span>
                      <div class="input_tel">
            						<span class="input_box">
            							<input type="number" id="mCpnumber2" name="mCpnumber2" class="ipt" style="ime-mode:disabled" required="required" data-title="휴대폰번호를" title="휴대폰번호를" maxlength="4" oninput="maxLengthCheck(this)" value="<c:out value="${myInfo.mCpnumber2}"/>">
            						</span>
            					</div>
                      <span class="hyphen">-</span>
                      <div class="input_tel">
            						<span class="input_box">
            							<input type="number" id="mCpnumber3" name="mCpnumber3" class="ipt" style="ime-mode:disabled" required="required" data-title="휴대폰번호를" title="휴대폰번호를" maxlength="4" oninput="maxLengthCheck(this)" value="<c:out value="${myInfo.mCpnumber3}"/>">
            						</span>
            					</div>
                    </td>
                  </tr>
                </tbody>
              </table>

              <div class="btn_add"><a href="javascript:chkCp();">휴대폰번호 중복확인</a></div>

            </div>

            <div class="tb mt30">
              <table summary="주소" cellpadding="0" cellspacing="0" border="0">
                <caption>주소</caption>
                <colgroup>
                    <col style="width:110px;">
                    <col style="*">
                </colgroup>
                <tbody>
                  <tr>
                    <td class="tit"><p>주소<span></span></p></td>
                    <td class="cont">
                      <div class="cont_inner">
                        <div class="addr_box01" id="addr_box01">
                          <div class="input_addr">
                            <span class="input_box">
                              <input type="text" id="pPost" name="pPost" class="ipt" value="" readonly="">
                            </span>
                            <div class="btn_addr"><a href="javascript:;" onclick="sample2_execDaumPostcode();">우편번호 검색</a></div>
                          </div>
                          <div class="input_row mt4">
                            <span class="input_box">
                              <input type="text" id="pAddr1" name="pAddr1" class="ipt" value="" readonly="">
                            </span>
                          </div>
                          <div class="input_row mt4">
                            <span class="input_box">
                              <input type="text" id="pAddr2" name="pAddr2" class="ipt" value="">
                            </span>
                          </div>
                          <p class="info">
                            주소는 물품발송을 위해 사용되니 정확한 주소를 입력해주세요.
                          </p>
                        </div>
                        <div id="layer" style="display:none;position:fixed;overflow:hidden;z-index:1;-webkit-overflow-scrolling:touch;">
                          <img src="//t1.daumcdn.net/postcode/resource/images/close.png" id="btnCloseLayer" style="width:20px;cursor:pointer;position:absolute;right:0px;top:-1px;z-index:1" onclick="closeDaumPostcode()" alt="닫기 버튼">
                        </div>
                        <!--// 주소 입력 후 -->
                        <div class="addr_box02 blind" id="addr_box02">
                          <div class="btn_addr"><a href="javascript:;" onclick="sample2_execDaumPostcode();">우편번호 검색</a></div>
                          <ul>
                            <li></li>
                            <li></li>
                            <li></li>
                          </ul>
                        </div>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
   
            </div>

           <h3 class="info02">아이 정보</h3>

           	<c:set var="now" value="<%=new java.util.Date()%>" />
			<c:set var="sysYear"><fmt:formatDate value="${now}" pattern="yyyy" /></c:set> 
			<c:set var="sysMonth"><fmt:formatDate value="${now}" pattern="MM" /></c:set> 
		    <c:set var="sysDate"><fmt:formatDate value="${now}" pattern="dd" /></c:set> 
           <c:forEach var="i" begin="1" end="${myInfo.mChildNumber}">
      
           <c:if test="${fn:split(myInfo.cIdx,',')[i-1] eq sessionScope.reChild}">
						<div <c:if test="${i > 1}">class="info_add"</c:if> id="child_0${i}"><!-- 아이 추가 시 info_add 클래스 추가 -->
			              <h4>기본 정보</h4>
			              <div class="tb">
			                <table summary="기본 정보" cellpadding="0" cellspacing="0" border="0">
			                  <caption>기본 정보</caption>
			                  <colgroup>
			                      <col style="width:110px;">
			                      <col style="*">
			                  </colgroup>
			                  <tbody>
			                    <tr>
			                      <td class="tit"><p>아이명<span></span></p></td>
			                      <td class="cont">
			                        <div class="input_row">
			                          <span class="input_box">
			                            <input type="text" id="cName">
			                          </span>
			                        </div>
			                      </td>
			                    </tr>
			                    <tr>
			                      <td class="tit"><p>성별 선택<span></span></p></td>
			                      <td class="cont">
			                        <div class="radio_row">
			          								<input type="radio" id="cSex<c:if test="${i > 1}">_0${i-1}</c:if>1" name="cSex<c:if test="${i > 1}">_0${i-1}</c:if>" value="M" <c:if test="${fn:split(myInfo.cSex,',')[i-1] eq 'M'}">checked</c:if>>
			          							  <label for="cSex<c:if test="${i > 1}">_0${i-1}</c:if>1">남아</label>
			          							</div>
			                        <div class="radio_row">
			          								<input type="radio" id="cSex<c:if test="${i > 1}">_0${i-1}</c:if>2" name="cSex<c:if test="${i > 1}">_0${i-1}</c:if>" value="F" <c:if test="${fn:split(myInfo.cSex,',')[i-1] eq 'F'}">checked</c:if>>
			          							  <label for="cSex<c:if test="${i > 1}">_0${i-1}</c:if>2">여아</label>
			          							</div>
			                      </td>
			                    </tr>
			                    <tr>
			                      <td class="tit"><p>생년월일<span></span></p></td>
			                      <td class="cont">
			                   <%--      <div class="inputBox_DP">
			                          <input type="date" name="cBirth<c:if test="${i > 1}">_0${i-1}</c:if>" id="cBirth<c:if test="${i > 1}">_0${i-1}</c:if>" class="date"   value="${fn:split(myInfo.cBirth,',')[i-1]}"/>
			                        </div>  --%>
			                        
			                      <div class="select_day_box">
			                       <c:set var="cb" value="${fn:split(myInfo.cBirth,',')[i-1]}"/>
			                          <div class="select_row select_day01">
			                            <label for="sel01<c:if test="${i > 1}">_0${i-1}</c:if>">${fn:substring(cb,0,4)}</label>
			                            <select id="sel01<c:if test="${i > 1}">_0${i-1}</c:if>">
			                                     <c:forEach var="j" begin="1980" end="${sysYear}">
												      <option value="${j}" <c:if test="${fn:substring(cb,0,4) eq j}">selected</c:if>>${j}</option>
												</c:forEach>
			                            </select>
			                          </div>
			                          <div class="select_row select_day02">
			                            <label for="sel02<c:if test="${i > 1}">_0${i-1}</c:if>">${fn:substring(cb,5,7)}</label>
			                            <select id="sel02<c:if test="${i > 1}">_0${i-1}</c:if>">
			                                    <c:forEach var="j" begin="1" end="12">
												      <option value="<c:if test="${j < 10}">0</c:if>${j}" <c:if test="${fn:substring(cb,5,7) eq j}">selected</c:if>><c:if test="${j < 10}">0</c:if>${j}</option>
												</c:forEach>
			                            </select>
			                          </div>
			                          <div class="select_row select_day02">
			                            <label for="sel03<c:if test="${i > 1}">_0${i-1}</c:if>">${fn:substring(cb,8,10)}</label>
			                            <select id="sel03<c:if test="${i > 1}">_0${i-1}</c:if>">
			                                  <c:forEach var="j" begin="1" end="31">
												      <option value="<c:if test="${j < 10}">0</c:if>${j}" <c:if test="${fn:substring(cb,8,10) eq j}">selected</c:if>><c:if test="${j < 10}">0</c:if>${j}</option>
												</c:forEach>
			                            </select>
			                          </div>
			                        </div> 
			                      </td>
			                    </tr>
			                    
			                    <!-- 프로필사진 -->
			                   <tr>
			                    <td class="tit"><p>프로필사진</p></td>
			                    <td class="cont">
			                      <div class="cont_inner">
			
			                            <c:choose>
				                        	<c:when test="${fn:split(myInfo.profilePhotoOri,',')[i-1] eq '0'}">
				                        	       <div class="upload_field${i}" >
							                          <input class="upload_name${i} ellipsis" id="add_file_name${i}" value="파일선택" disabled="disabled">
							                          <a href="javascript:;" class="upload_del" onclick="fnFileReset${i}('N')"><img src="${BASE_ROOT}/resource/assets/web/child/images/common/btn_del.png" alt="삭제" /></a>
							                        </div>
						
							                 
				                        	</c:when>
				                        	<c:otherwise>
				                        	       <div class="upload_field${i}" style="display: block;">
						                          <input class="upload_name${i} ellipsis" id="add_file_name${i}" value="${fn:split(myInfo.profilePhotoOri,',')[i-1]}">
						                          <a href="javascript:;" class="upload_del" onclick="fnFileReset${i}('Y')"><img src="${BASE_ROOT}/resource/assets/web/child/images/common/btn_del.png" alt="삭제" /></a>
						                     </div>
				                        	</c:otherwise>
			                       		 </c:choose>
			                        
			                 
			       				 <div class="filebox">
			                          <label for="add_file${i}">사진첨부</label>
			                          <input type="file" id="add_file${i}" name="file0${i}" class="upload_hidden${i}">
			                        </div> 
			                        <p class="txt">5MB 이하의 이미지 파일(JPG, PNG, GIF) 1개를 첨부하실 수 있습니다.</p>
			                      </div>
			                    </td>
			                  </tr>
			                  
			                  
			                  </tbody>
			                </table>
			              </div>
			              <h4>처방 및 병원 정보</h4>
			              <div class="tb">
			                <table summary="기본 정보" cellpadding="0" cellspacing="0" border="0">
			                  <caption>처방 및 병원 정보</caption>
			                  <colgroup>
			                      <col style="width:110px;">
			                      <col style="*">
			                  </colgroup>
			                  <tbody>
                          <tr>
                            <td class="tit"><p>성장 호르몬<br>치료경험</p></td>
                            <td class="cont">
                              <div class="radio_row">
                                <input type="radio" id="yes" name="treatExp" value="Y" checked="">
                                <label for="yes">예</label>
                              </div>
                              <div class="radio_row">
                                <input type="radio" id="no" name="treatExp" value="N">
                                <label for="no">아니오</label>
                              </div>
                            </td>
                          </tr>
                          <tr>
                            <td class="tit"><p>과거<br>사용한 제품</p></td>
                            <td class="cont">
                              <div class="select_row">
                                <label for="sel04"></label>
                                <select id="sel04" name="sel04" data-title="" title="">
                                     <option value="">싸이젠</option>
                                     <option value="">그로트로핀</option>
                                     <option value="">지노트로핀</option>
                                     <option value="">노디트로핀</option>
                                     <option value="">싸이트로핀</option>
                                     <option value="">조맥톤</option>
                                     <option value="">모름</option>
                                </select>
                              </div>
                            </td>
                          </tr>
			                    <tr>
			                      <td class="tit"><p>담당 간호사<span></span></p></td>
			                      <td class="cont">
			                        <p><c:out value="${fn:split(myInfo.cChargNurseName,',')[i-1]}"/></p>
			                      </td>
			                    </tr>
                          <tr>
                            <td class="tit"><p>최초 처방일<span></span></p></td>
                            <td class="cont">
                              <div class="inputBox_DP w100">
                                <input type="date" name="cInitialPrescription" class="date" value="2018-06-10" />
                              </div>
                            </td>
                          </tr>

                          <tr>
                            <td class="tit"><p>병원명<span></span></p></td>
                            <td class="cont">
                              <div class="input_search">
                                <span class="input_box">
                                  <input type="text" class="ipt"   id="selectHname"  value="연세대학교병원" readonly="">
                                  <div class="btn_search"><a href="javascript:;" onclick="popupsrh();"></a></div>
                                </span>
                              </div>
                            </td>
                          </tr>
                          <tr>
                            <td class="tit"><p>의사명<span></span></p></td>
                            <td class="cont">
                              <div class="input_search">
                                <span class="input_box">
                                    <input type="text" id="cDoctorName" name="cDoctorName" value="김기준" class="ipt">
                                    <div class="btn_search"><a href="javascript:;" onclick="popupdoctor();"></a></div>
                                </span>
                              </div>
                            </td>
                          </tr>

			                    <!-- <tr>
			                      <td class="tit"><p>병원명<span></span></p></td>
			                      <td class="cont">
			                        <p><c:out value="${fn:split(myInfo.cHospitalName,',')[i-1]}"/></p>
			                      </td>
			                    </tr>
			                    <tr>
			                      <td class="tit"><p>의사명<span></span></p></td>
			                      <td class="cont">
			                        <p>
			                         <c:choose>
					                    <c:when test="${fn:contains(fn:split(myInfo.cDoctorName,',')[i-1], '0')}">
					                  	</c:when>
					                  	<c:otherwise> 
					                  		   <p><c:out value="${fn:split(myInfo.cDoctorName,',')[i-1]}"/></p>
					                  	</c:otherwise>
					                  </c:choose>
			                      </td>
			                    </tr> -->
			                  </tbody>
			                </table>
			              </div>
			            </div>
			    </c:if>
			</c:forEach>

			<!-- <div class="btn_add"><a href="javascript:;" onclick="fnAddChild()"><span>+</span> 아이 추가 하기</a></div> -->

           <c:forEach var="i" begin="${myInfo.mChildNumber+1}" end="3">
			<div  class="info_add" id="child_0${i}" style="display:none;"> <!-- 아이 추가 시 info_add 클래스 추가 -->
			  <a href="javascript:;" class="btn_del" onclick="fnDeleteChild('0${i}')"><img src="${BASE_ROOT}/resource/assets/web/child/images/common/btn_del.png" alt="삭제하기"></a>
              <h4>기본 정보</h4>
              <div class="tb">
                <table summary="기본 정보" cellpadding="0" cellspacing="0" border="0">
                  <caption>기본 정보</caption>
                  <colgroup>
                      <col style="width:110px;">
                      <col style="*">
                  </colgroup>
                  <tbody>
                    <tr>
                      <td class="tit"><p>아이명<span></span></p></td>
                      <td class="cont">
                        <div class="input_row">
                          <span class="input_box">
                            <input type="text" id="cName<c:if test="${i > 1}">_0${i-1}</c:if>" name="cName<c:if test="${i > 1}">_0${i-1}</c:if>" class="ipt" data-title="아이명을" title="아이명을" maxlength="20" oninput="maxLengthCheck(this)">
                          </span>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td class="tit"><p>성별 선택<span></span></p></td>
                      <td class="cont">
                        <div class="radio_row">
          								<input type="radio" id="cSex<c:if test="${i > 1}">_0${i-1}</c:if>1" name="cSex<c:if test="${i > 1}">_0${i-1}</c:if>" value="M" checked>
          							  <label for="cSex<c:if test="${i > 1}">_0${i-1}</c:if>1">남아</label>
          							</div>
                        <div class="radio_row">
          								<input type="radio" id="cSex<c:if test="${i > 1}">_0${i-1}</c:if>2" name="cSex<c:if test="${i > 1}">_0${i-1}</c:if>" value="F">
          							  <label for="cSex<c:if test="${i > 1}">_0${i-1}</c:if>2">여아</label>
          							</div>
                      </td>
                    </tr>
                    <tr>
                      <td class="tit"><p>생년월일<span></span></p></td>
                      <td class="cont">
                        <%-- <div class="inputBox_DP">
                          <input type="date" name="cBirth<c:if test="${i > 1}">_0${i-1}</c:if>" id="cBirth<c:if test="${i > 1}">_0${i-1}</c:if>" class="date"  data-title="생년월일을" title="생년월일을"/>
                        </div>  --%>
                     <div class="select_day_box">
                          <div class="select_row select_day01">
                            <label for="sel01<c:if test="${i > 1}">_0${i-1}</c:if>">${sysYear}</label>
                            <select id="sel01<c:if test="${i > 1}">_0${i-1}</c:if>">
                                     <c:forEach var="j" begin="1980" end="${sysYear}">
									      <option value="${j}" <c:if test="${sysYear eq j}">selected</c:if>>${j}</option>
									</c:forEach>
                            </select>
                          </div>
                          <div class="select_row select_day02">
                            <label for="sel02<c:if test="${i > 1}">_0${i-1}</c:if>">${sysMonth}</label>
                            <select id="sel02<c:if test="${i > 1}">_0${i-1}</c:if>">
                                    <c:forEach var="j" begin="1" end="12">
									      <option value="<c:if test="${j < 10}">0</c:if>${j}" <c:if test="${sysMonth eq j}">selected</c:if>><c:if test="${j < 10}">0</c:if>${j}</option>
									</c:forEach>
                            </select>
                          </div>
                          <div class="select_row select_day02">
                            <label for="sel03<c:if test="${i > 1}">_0${i-1}</c:if>">${sysDate}</label>
                            <select id="sel03<c:if test="${i > 1}">_0${i-1}</c:if>">
                                  <c:forEach var="j" begin="1" end="31">
									      <option value="<c:if test="${j < 10}">0</c:if>${j}" <c:if test="${sysDate eq j}">selected</c:if>><c:if test="${j < 10}">0</c:if>${j}</option>
									</c:forEach>
                            </select>
                          </div>
                        </div> 
                      </td>
                    </tr>
                    
                 <!-- 프로필사진 -->
                   <tr>
                    <td class="tit"><p>프로필사진</p></td>
                    <td class="cont">
                      <div class="cont_inner">
                        <div class="upload_field${i}">
                          <input class="upload_name${i} ellipsis" id="add_file_name${i}" value="파일선택" disabled="disabled">
                          <a href="javascript:;" class="upload_del" onclick="fnFileReset${i}()"><img src="${BASE_ROOT}/resource/assets/web/child/images/common/btn_del.png" alt="삭제" /></a>
                        </div>
                        <div class="filebox">
                          <label for="add_file${i}">사진첨부</label>
                          <input type="file" id="add_file${i}" name="file0${i}" class="upload_hidden${i}">
                        </div>
                        <p class="txt">5MB 이하의 이미지 파일(JPG, PNG, GIF) 1개를 첨부하실 수 있습니다.</p>
                      </div>
                    </td>
                  </tr>
                    
                    
                    
                  </tbody>
                </table>
              </div>
              <h4>처방 및 병원 정보</h4>
              <div class="tb">
                <table summary="기본 정보" cellpadding="0" cellspacing="0" border="0">
                  <caption>처방 및 병원 정보</caption>
                  <colgroup>
                      <col style="width:110px;">
                      <col style="*">
                  </colgroup>
                  <tbody>
                    <td class="tit"><p>성장 호르몬<br>치료경험</p></td>
                    <td class="cont">
                      <div class="radio_row">
                        <input type="radio" id="yes_01" name="treatExp_01" value="Y" checked="">
                        <label for="yes_01">예</label>
                      </div>
                      <div class="radio_row">
                        <input type="radio" id="no_01" name="treatExp_01" value="N">
                        <label for="no_01">아니오</label>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td class="tit"><p>과거<br>사용한 제품</p></td>
                    <td class="cont">
                      <div class="select_row">
                        <label for="sel04_01"></label>
                        <select id="sel04_01" name="sel04_01" data-title="" title="">
                             <option value="">싸이젠</option>
                             <option value="">그로트로핀</option>
                             <option value="">지노트로핀</option>
                             <option value="">노디트로핀</option>
                             <option value="">싸이트로핀</option>
                             <option value="">조맥톤</option>
                             <option value="">모름</option>
                        </select>
                      </div>
                    </td>
                  </tr>
                    <tr>
                      <td class="tit"><p>담당 간호사<span></span></p></td>
                      <td class="cont">
                       <div class="select_row">
                          <label for="sel01">담당 간호사 입력</label>
                          <select id="cChargNurseId<c:if test="${i > 1}">_0${i-1}</c:if>" name="cChargNurseId<c:if test="${i > 1}">_0${i-1}</c:if>" data-title="담당간호사를" title="담당간호사를">
                               <option value="">담당 간호사 입력</option>
                               <c:forEach items="${nurseList}" var="result" varStatus="status">
                                   <option value="<c:out value="${result.id}"/>"><c:out value="${result.name}"/></option>
                                 </c:forEach>
                          </select>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td class="tit"><p>최초 처방일<span></span></p></td>
                      <td class="cont">
                  <%--     <div class="inputBox_DP">
                       <input type="date" name="cInitialPrescription<c:if test="${i > 1}">_0${i-1}</c:if>" id="cInitialPrescription<c:if test="${i > 1}">_0${i-1}</c:if>" class="date"  data-title="최초처방일을" title="최초처방일을" />
                       </div> --%>
                         <div class="select_day_box">
                          <div class="select_row select_day01">
                            <label for="sel04_<c:if test="${i > 1}">0${i-1}</c:if>">${sysYear}</label>
                            <select id="sel04_<c:if test="${i > 1}">0${i-1}</c:if>">
                                   <c:forEach var="j" begin="1980" end="${sysYear}">
									      <option value="${j}" <c:if test="${sysYear eq j}">selected</c:if>>${j}</option>
									</c:forEach>
                            </select>
                          </div>
                          <div class="select_row select_day02">
                            <label for="sel05_<c:if test="${i > 1}">0${i-1}</c:if>">${sysMonth}</label>
                            <select id="sel05_<c:if test="${i > 1}">0${i-1}</c:if>">
                                  <c:forEach var="j" begin="1" end="12">
									      <option value="<c:if test="${j < 10}">0</c:if>${j}" <c:if test="${sysMonth eq j}">selected</c:if>><c:if test="${j < 10}">0</c:if>${j}</option>
									</c:forEach>
                            </select>
                          </div>
                          <div class="select_row select_day02">
                            <label for="sel06_<c:if test="${i > 1}">0${i-1}</c:if>">${sysDate}</label>
                            <select id="sel06_<c:if test="${i > 1}">0${i-1}</c:if>">
                                  <c:forEach var="j" begin="1" end="31">
									      <option value="<c:if test="${j < 10}">0</c:if>${j}" <c:if test="${sysDate eq j}">selected</c:if>><c:if test="${j< 10}">0</c:if>${j}</option>
									</c:forEach>
                            </select>
                          </div>
                        </div>
                        </div>
                      </td>
                    </tr>

                    <tr>
                      <td class="tit"><p>병원명<span></span></p></td>
                      <td class="cont">
                        <div class="input_search">
                          <span class="input_box">
                            <input type="text" class="ipt"   id="selectHname_01"  value="연세대학교병원" readonly="">
                            <div class="btn_search"><a href="javascript:;" onclick="popupsrh();"></a></div>
                          </span>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td class="tit"><p>의사명<span></span></p></td>
                      <td class="cont">
                        <div class="input_search">
                          <span class="input_box">
                              <input type="text" id="cDoctorName_01" name="cDoctorName_01" value="김기준" class="ipt">
                              <div class="btn_search"><a href="javascript:;" onclick="popupdoctor();"></a></div>
                          </span>
                        </div>
                      </td>
                    </tr>
                    <!-- <tr>
                      <td class="tit"><p>병원명<span></span></p></td>
                      <td class="cont">
                       <div class="input_row">
                          <span class="input_box">
                            <input type="text" id="cHospitalName<c:if test="${i > 1}">_0${i-1}</c:if>" name="cHospitalName<c:if test="${i > 1}">_0${i-1}</c:if>" class="ipt"   data-title="병원명을" title="병원명을" maxlength="50" oninput="maxLengthCheck(this)">
                          </span>
                        </div>
                      </td>
                    </tr>
                    <tr>
                     <td class="tit"><p>의사명<span></span></p></td>
                      <td class="cont">
                        <div class="input_row">
                          <span class="input_box">
                            <input type="text" id="cDoctorName<c:if test="${i > 1}">_0${i-1}</c:if>" name="cDoctorName<c:if test="${i > 1}">_0${i-1}</c:if>" class="ipt" maxlength="20" oninput="maxLengthCheck(this)">
                          </span>
                        </div>
                      </td>
                    </tr> -->
                  </tbody>
                </table>
              </div>
            </div>
			    
			</c:forEach>

		 <c:if test="${myInfo.mChildNumber eq '2' or myInfo.mChildNumber eq '3'}">
			  <div class="btn_add"><a href="javascript:;" onclick="fnDeleteChildData()"><span>-</span> 아이 삭제 하기</a></div>
		 </c:if>	
	    
	     
	     
         <div class="btn_add"><a href="javascript:;" onclick="fnAddChild()"><span>+</span> 아이 추가 하기</a></div>
    
    
<!--     <input type="text" id="barcodeNumber" name="barcodeNumber" class="ipt" minlength="8" maxlength="16" data-title="바코드를" title="바코드를" oninput="maxLengthCheck(this)">
    
       <div class="btn_box btn_box02 mt50">
              <div class="btn_gray"><a href="javascript:;" onclick="fnInsertBarcode()">바코드등록</a></div>
            </div> -->
    
          <!--   <h3 class="info02" onclick="fnBarcodeChk()" id="withdraw_area">스마트기기 관리</h3> -->
            
            <div class="btn_box btn_box01 mt10">
              <div class="btn_line"><a href="javascript:;" onclick="fnBarcodeChk()" id="withdraw_area">스마트기기 관리</a></div> 
            </div>
            
           <!--  <h3 class="info02">탈퇴신청</h3> -->
            <!-- <div class="btn_box btn_box01 mt15">
              <div class="btn_line"><a href="javascript:;" onclick="popupOpen('pop_drop');">탈퇴신청하기</a></div>
            </div> -->
            <div class="btn_box btn_box01 mt10">
              <div class="btn_line"><a href="javascript:;" onclick="">휴대폰 정보 확인</a></div>
            </div>

            <div class="btn_box btn_box02 mt50">
              <div class="btn_gray"><a href="javascript:history.back();">취소</a></div>
              <div class="btn_green"><a href="javascript:;" onclick="memberUpdate()">정보수정</a></div>
            </div>
        </div>
      </div>
      <!-- content //-->

      <!-- 병원명 검색 -->
      <div class="pop_mask"></div>
      <div class="pop_search">
        <div class="pop_search_inner">
          <div class="btn_close pop_close"><a href="javascript:;"><img src="/resource/assets/web/nurse/images/common/btn_close.png" alt="닫기"></a></div>
          <div class="pop_con">
            <div class="pop_tit">병원명 검색</div>
            <div class="search_area">
              <p>등록되어 있는 병원명 또는 간략한 주소를 입력하시고 [검색]버튼을 클릭해주세요.</p>
              <div class="search_ipt">
                <div class="search_cell">
                  <div class="input_row">
                    <span class="input_box">
                      <input type="text" id="search_name"  class="ipt">
                    </span>
                  </div>
                </div>
                <div class="search_cell btn">
                  <div class="btn_search"><a href="javascript:fnHospitalSearch();">검색</a></div>
                </div>
              </div>
            </div>
            <div class="search_list" id="search_hospital">
            </div>
          </div>
        </div>
      </div>
      
      
      <!-- 의사 검색 -->
      <!-- <div class="pop_mask"></div> -->
      <div class="pop_search_doctor">
        <div class="pop_search_inner">
          <div class="btn_close pop_close"><a href="javascript:;"><img src="/resource/assets/web/nurse/images/common/btn_close.png" alt="닫기"></a></div>
          <div class="pop_con">
            <div class="pop_tit">의사명 검색</div>
            <div class="search_area">
                <p>등록되어 있는 의사명 입력하시고 [검색]버튼을 클릭해주세요.</p>
              <div class="search_ipt">
                <div class="search_cell">
                  <div class="input_row">
                    <span class="input_box">
                      <input type="text" id="search_doctor_name"  class="ipt">
                    </span>
                  </div>
                </div>
                <div class="search_cell btn">
                  <div class="btn_search"><a href="javascript:fnDoctorSearch();">검색</a></div>
                </div>
              </div>
            </div>
            <div class="search_list" id="search_doctor">
            </div>
          </div>
        </div>
      </div>

      <!--// pop -->
      <div class="pop_wrap pop_drop">
        <div class="pop_box">
          <div class="pop_top">
            <div class="pop_inner">
              <h2 class="title">회원탈퇴신청</h2>
              <div class="pop_close close"><a href="/child/modify_info.do"><img src="${BASE_ROOT}/resource/assets/web/child/images/common/close.png" alt="닫기" /></a></div>
            </div>
          </div>
          <div class="pop_cont">
            <div class="pop_inner">
              <div class="tb">
                <table summary="탈퇴신청" cellpadding="0" cellspacing="0" border="0">
                  <caption>탈퇴신청</caption>
                  <colgroup>
                      <col style="width:110px;">
                      <col style="*">
                  </colgroup>
                  <tbody>
                    <tr>
                      <td class="tit"><p>탈퇴사유</p></td>
                      <td class="cont">
                        <div class="cont_inner">
                          <div class="area_box">
            						    <textarea type="text" id="mWithdrawReason" name="mWithdrawReason" placeholder="탈퇴사유를 입력해주세요."></textarea>
              						</div>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <p class="comment">탈퇴를 하면, 기존 서비스 활용을 더 이상 할 수 없으며<br>기존의 데이터도 모두 사라지게 됩니다.</p>
            </div>
          </div>
          <div class="pop_btn">
            <div class="btn_box">
              <div class="pop_close btn_gray"><a href="javascript:;">닫기</a></div>
              <div class="btn_green"><a href="javascript:;" onclick="fnWithdraw()">탈퇴신청</a></div>
            </div>
          </div>
        </div>
      </div>
      </form:form>
      <!-- pop //-->
      
       <!--// 바코드 입력 -->
      <div class="pop_mask"></div>
      <div class="pop_info pop_barcode">
        <div class="pop_info_inner_barcode">
          <div class="btn_close pop_close"><a href="javascript:;"><img src="${BASE_ROOT}/resource/assets/web/child/images/common/btn_close.png" alt="닫기" /></a></div>
          <div class="pop_con">
            <p class="pop_tit">스마트 기기 약관동의</p>
            <p class="pop_txt">스마트기기의 약관동의를 하셔야만<br/> 스마트기기 관리를 하실 수 있습니다</p>
            <div class="check_box">
            	<input type="checkbox" id="smartChk" name="smartChk">
            	<label for="">스마트기기 관리 약관동의</label>
            	<a href="javascript:;" class="ag_pop" onclick="popupOpen('pop_smartConsent');">팝업보기</a>
            </div>
            
          <div>
            <p class="pop_txt">- 대여기간 : 계약체결 날짜 ~ LG화학 성장호르몬 투약 종료 시</p>
            <p class="pop_txt">- 대여조건 : LG화학 성장호르몬의 손쉬운 투약관리를 위하여 무상으로 대여하며 투약 종료 후 회사에 반납</p>
            <p class="pop_txt">- 반환장소 : 서울특별시 금천구 가산디지털1로 219 벽산디지털밸리6차 1207호,</br> 엠지엠씨㈜<br/>(담당간호사에게 수거 요청시 <br/>무료 택배수거 진행)</p>
          </div>
			<!-- </br>
			<div class="search_ipt">
                <div class="search_cell">
                  <div class="input_row">
                    <span class="input_box">
                      <input type="text" id="barcodeNumber"  name="barcodeNumber" class="ipt" Placeholder="바코드 번호를 입력하세요" maxlength="25">
                    </span>
                  </div>
                </div>
              </div> -->
            <div class="btn_box">
             <!--   <div class="btn_gray"><a href="javascript:fnInsertBarcode();">바코드 등록</a></div> -->
                <div class="btn_gray"><a href="javascript:fnInsertBarcode();">확인</a></div>
            </div>
          </div>
        </div>
      </div>

    
      <!-- 바코드 입력 //-->
      <!-- 스마트기기 약관동의 -->
      <div class="pop_wrap pop_smartConsent">
        <div class="pop_box">
          <div class="pop_top">
            <div class="pop_inner">
              <h2 class="title">스마트케이스 임대차계약서 약관</h2>
              <div class="pop_close close"><a href="javascript:fnCloseDiv();"><img src="${BASE_ROOT}/resource/assets/web/child/images/common/close.png" alt="닫기" /></a></div>
            </div>
          </div>
          <div class="pop_cont">
            <div class="pop_inner">
              <h4>제1조(목적) 이 약관은 스마트케이스 임대인(이하 “회사”라 합니다)과 임차인(이하 “고객”이라 합니다) 사이의 대여용 스마트케이스 임대차계약(이하 “대여계약”이라 합니다)상의 권리․의무에 관한 사항을 규정함을 목적으로 합니다.</h4>
              <h3>제 2 장  대 여 계 약</h3>
              <h4>제1조(대여계약의 체결) </h4>
              <ul>
                <li><span>①</span>대여계약의 체결은 임대차계약서에 의하며, 임대차계약서에는 임차하려는 자는 고객의 성함, 핸드폰번호를 [LG화학 EuDi APP]의 가입정보를 통하여 저장하고 대여기간, 반환장소, 대여조건 등을 명시하여야 합니다.</li>
                <li>
                <span>②</span>회사는 고객이 다음 각 호의 어느 하나에 해당할 경우 대여계약의 체결 후 계약을 해지할 수 있으며, 이 경우 지급받은 스마트케이스를 반환합니다.
	                <ul>
		                 <li><span>1.</span>임차인 혹은 임차인의 자녀가 LG화학의 성장호르몬 제품을 처방받은 사실이 없는 경우</li>
		                 <li><span>2.</span>스마트케이스 제작의 목적인 LG화학의 성장호르몬 제품의 투약관리이외의 목적으로 사용하려 하는 경우</li>
		                 <li><span>3.</span>위 각호에 준하는 사항으로서 대여계약의 체결을 해지할 만한 객관적인 사유가 있을 때</li>
	                </ul>
                </li>
              </ul>
              <h4>제2조(스마트케이스의 대체)</h4>
              <ul>
                <li><span>①</span>회사는 고객이 대여한 스마트케이스가 보증기간(1년)내에 오작동시 새로운 스마트케이스로 대체 할 수 있습니다.</li>
                <li><span>②</span>고객은 제1항에 의한 대체 스마트케이스 임대를 거절할 수 있으며, 이 경우 고객은 기존에 임대한 스마트케이스를 반환하고 임대차계약은 종료 됩니다.</li>
              </ul>
              <h4>제3조(수령방법 등) </h4>
              <ul>
                <li><span>①</span>고객은 [LG화학 EuDI APP]의 물품 신청 메뉴를 통하여 신청하고 수령할 수 있음.</li>
                <li><span>②</span>LG화학 소속 담당 간호사가 스마트케이스를 고객을 대리하여 신청하고 고객이 지정한 주소로 송부할 수 있음</li>
                <li><span>③</span>고객과 회사가 원칙적으로 약정한 대여요금은 없고, 신의 성실의 원칙에 의하여 임대 합니다. 다만, 회사가 제공한 스마트케이스의 목적이 충분히 달성되어(성장호르몬 투약 종료 등) 고객이 더 이상 스마트케이스를 사용할 목적이 상실되었다고 판단 시 회사는 스마트케이스의 반납을 별도로 요청 할 수 있습니다.</li>
                <li><span>④</span>고객은 회사의 정당한 스마트케이스 반납요청을 성실히 수행하여야 함.</li>
                <li><span>⑤</span>고객은 대여기간을 초과하여 대여할수 없음</li>                
              </ul>
              <h4>제4조(회사의 대여계약 해지) </h4>
              <ul>
                <li>
                <span>①</span>회사는 다음 각 호의 어느 하나에 해당하는 경우에는 계약을 해지할 수 있습니다.
	                <ul>
		                <li><span>1.</span>고객이 계약의 중요한 사항을 위반하여 계약을 유지하기 어려운 객관적인 사정이 존재할 때</li>
		                <li><span>2.</span>계약 당시 고객의 개인정보가 허위로 판명된 때</li>
		                <li><span>3.</span>유트로핀펜 투약이 종료 되었을 때</li>
		                <li><span>3.</span>제10조의 금지행위를 한 때</li>
	               </ul>               
              </ul>
              <h4>제5조(고객의 대여계약 해지) </h4>
              <ul>
                <li><span>①</span>고객은 대여기간 중이라도 회사와 합의하여 대여계약을 해지할 수 있습니다.</li>
                <li><span>②</span>고객의 귀책사유로 스마트케이스의 분실 또는 고장이 발생한 경우 고객은 회사에 해당 사실을 알리고 계약을 해지할 수 있습니다.</li>
              </ul>

              <h4>제6조(불가항력 사유로 인한 대여계약 해지) </h4>
              <ul>
                <li><span>①</span>대여기간 중 천재지변, 전쟁, 내란, 사변, 폭동, 소요 등 기타 불가항력 사유로 인하여 고객이 스마트케이스를 사용할 수 없는 경우에는 대여계약은 종료되며, 고객은 이와 같은 사실을 회사에 통보하여야 합니다.</li>
                <li><span>②</span>고객이 제1항의 사유로 인하여 스마트케이스를 반환할 수 없는 때에는 회사는 고객에게 이로 인하여 발생한 손해의 배상을 청구할 수 없습니다. 다만, 고객은 제1항의 사유가 발생한 경우 즉시 회사에 연락하고, 회사의 요청에 협조하여야 합니다.</li>
              </ul>
              <h4>제7조(대여조건의 변경)</h4>
              <ul>
                <li><span>①</span>고객이 대여계약의 체결 후 대여조건을 변경하고자 하는 경우에는 미리 회사의 승낙을 받아야 합니다.</li>
                <li><span>②</span>고객이 대여기간을 연장하고자 하는 경우에는 미리 회사의 승낙을 받아야 합니다.</li>
                <li><span>③</span>회사는 변경된 대여조건에 따라 업무를 수행하기 어려운 경우에는 변경을 승낙하지 않을 수 있습니다.</li>
              </ul>
              <h4>제8조(점검 등) </h4>
              <ul>
                <li><span>①</span>회사는 대여품의 점검을 위하여 임차인에게 유선 혹은 [LG화학 EuDi APP]을 통하여 연락을 취할 수 있습니다.</li>
              </ul>
              <h4>제9조(고객의 관리책임) 고객은 스마트케이스를 인도받은 시점부터 회사에 반환하는 시점까지 선량한 관리자의 주의의무를 다하여 사용하고 보관하여야 합니다.</h4><br>
              <h4>제10조(금지행위) 고객은 대여기간 중에 다음 각호의 어느 하나에 해당하는 행위를 하여서는 아니됩니다.</h4>
              <ul>
                <li><span>1.</span>스마트케이스를 임차인의 LG화학의 성장호르몬 투약관리 이외의 목적으로 사용하는 행위</li>
                <li><span>2.</span>스마트케이스의 매각, 전대 또는 담보제공 등 회사의 소유권을 침해하는 일체의 행위</li>
                <li><span>3.</span>스마트케이스를 개조하는 등 그 원상을 변경하는 행위</li>
                <li><span>4.</span>위 각 호에 준하는 행위로 객관적으로 보아 그로 인하여 스마트케이스를 손상시킬 우려가 있는 행위</li>
              </ul>
              <h4>제11조(배상책임)</h4>
              <ul>
                <li><span>①</span>고객은 대여기간 중 제10조에 해당하는 행위 중 고의적 의도를 가지고 회사 또는 제3자에게 손해를 끼쳤을 경우 그 손해를 배상할 책임을 집니다.</li>
                <li><span>②</span>고객의 일상적인 사용중 발생한 스마트케이스의 분실,파손,손망실로 발생되는 손해의 경우 그 손해에 대하여 배상할 책임은 없습니다.</li>
              </ul>

              <h4>제12조(고객의 스마트케이스 고장 발견시 조치) </h4>
              <ul>
                <li><span>①</span>고객은 임차 중 스마트케이스의 이상 또는 고장을 발견한 때에는 회사에 연락하고 그 처리방향에 대하여 협의하여야 합니다.</li>
				<li><span>②</span>고객의 고의ㆍ과실로 스마트케이스의 이상이나 고장이 발생한 경우에는 스마트케이스의 인수 및 수리에 소요되는 비용을 회사와 협의하여 고객이 부담하거나, 고장이 발생한 제품을 반납하여 임대차 계약을 종료 할 수 있습니다. 반납으로 계약을 종하는 경우 고객이 부담하는 비용은 없습니다.</li>	
                <li><span>③</span>스마트케이스를 사용 불능하게 되거나 수리가 필요하게 되었을 때 고객은 회사로부터 대체 스마트케이스의 제공 또는 이에 준하는 조치를 받을 수 있습니다. 단, 기존 스마트케이스는 반드시 반납하여야 합니다.</li>
                <li><span>④</span>회사는 제3항에서 정한 조치를 할 수 없는 경우에는 고객에게 해당 사실을 통보하고, 계약을 종료 할 수 있습니다.</li>				
              </ul>
              <h4>제13조(반환시기 등) </h4>
              <p>고객은 약정한 대여기간 종료시점 또는 대여계약 중도해지시에 스마트케이스를 회사에 반환하여야 합니다.</p>
              <h4>제14조(대여기간 중 확인 등) </h4>
              <ul>
                <li><span>①</span>고객은 스마트케이스를 회사에 반환할 때 통상적 사용으로 인한 마모 등을 제외하고는 인수시 확인한 상태 그대로 반환하여야 합니다.</li>
              </ul>

              <h4>제15조(스마트케이스의 반환장소 등) </h4>
              <ul>
                <li><span>①</span>고객은 제품설명서 기재된 반환장소에서 스마트케이스를 반환하여야 합니다. 다만, 제7조 제1항에 의하여 반환장소가 변경된 경우에는 변경 후의 반환장소에서 반환하여야 합니다.</li>
              </ul>
              <h4>제16조(스마트케이스 미반환에 대한 조치) </h4>
              <ul>
                <li><span>①</span>회사는 고객이 통보한 대여기간 종료시로부터 1개월을 경과하여도 반환장소에 스마트케이스를 반환하지 아니하거나 회사의 반환 청구에 응하지 않을 때에는 스마트케이스 임대차 계약이 종료되지 않을 수 있습니다.</li>
                <li><span>②</span>회사는 제1항에 해당되는 경우 스마트케이스의 소재를 확인하기 위하여 고객에게 전화를 하거나 주소지를 방문하여 회수 할 수 있습니다.</li>
                <li><span>③</span>회사는 제2항의 조치에도 불구하고 고객의스마트케이스의 소재가 불명할 경우 해당 사실을 회사가 고객에게 확인후 계약을 종료 합니다.</li>                
              </ul>
            </div>
          </div>       
        </div>
      </div>      
	  </div>
	  
	  
<%-- 	         <!--  IOS 긴급팝업-->
      <div class="pop_mask"></div>
      <div class="pop_info ios" id="eudi_ios">
        <div class="pop_info_inner">
          <div class="btn_close pop_close"><a href="javascript:;"><img src="${BASE_ROOT}/resource/assets/web/child/images/common/btn_close.png" alt="닫기" /></a></div>
          <div class="pop_con">
            <p class="pop_txt">
				     현재 스마트케이스와 EuDi App 연동에 일부 오류가 발생하여 수정작업중에 있습니다. <br/>
					불편을 드려 죄송합니다. <br/><br/>
					빠르게 수정하여 배포하겠습니다.<br/> 
		
			</p>
		   <label><br/> 
			<input type="checkbox" id="cbpopup" />
			오늘하루 안보기
			</label>
          </div>
        </div>
      </div>  --%>

       
	      <!-- 로딩 div -->
    <div id="div-dark" class="dark" style="display:none;"></div>
    <div id="loading"
            style="display:none; top: 45%; left: 75%;  margin-left:-100px;z-index: 9999; border: 3px #2B97D6;position:fixed">
            <p style="text-align: center;">
                <img src="/resource/assets/nurse/images/common/loading.gif" alt="loading" />
                <font color="#0054FF"><span id="percentage"></span></font>
            </p>
     </div>

    <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
	  <script>
	  function fnWithdraw(){
		  if($.trim($("#mWithdrawReason").val())  == ""){
			   alert("탈퇴사유를 입력해주세요.");
			   $("#mWithdrawReason").focus();
			   return;
		  } else {
			  var result = confirm("회원탈퇴신청을 하시겠습니까?");
			  if(result){
				   actionurl = "/child/Withdraw.do";
		              $.ajax({
		                  async: false,
		                  type: "POST",
		                  url : actionurl,
		                  data : $("#frmJoin").serialize(),
		                  dataType : "json",
		                  success: function(obj){
		                	  if(obj.result > 0){
		                		  alert("탈퇴 되었습니다. 이용해주셔서 감사합니다.");
		                		  location.href="/child/logout.do";
		                	  } else {
		                		  alert("일시적인 오류입니다, 다시 시도해 주세요.");
		                		  return;
		                	  }
		                    
		                
		                  },
		                  error: function(xhr, option, error){
		                        //alert(xhr.status+" | "+error); //오류코드 | 오류내용
		                	    alert("일시적인 오류입니다, 다시 시도해 주세요.");
		                  }
		                  /*error : function(success){
		                      meg = "서버와 통신중 에러가 발생하였습니다."
		                      alert("처리결과 : "+meg);
		                  }*/
		              });
			  }
		  }
		
	  }

	 //변경 감지
	 $("input").change(function(){
	  $("#changeChk").val("Y");
	});

	 $("select").change(function(){
		  $("#changeChk").val("Y");
		});
	 
		$("#mCpnumber2").keyup(function(event){
		    var inputVal = $(this).val();
		    $(this).val(inputVal.replace(/[^0-9]/gi,''));

		});


		
		$("#mCpnumber3").keyup(function(event){
		    var inputVal = $(this).val();
		    $(this).val(inputVal.replace(/[^0-9]/gi,''));

		});
	  	  
		
		$(".upload_hidden1").change(function(){
			  $("#delYn1").val("N");
			});
		
		$(".upload_hidden2").change(function(){
			  $("#delYn2").val("N");
		});
		
		$(".upload_hidden3").change(function(){
			  $("#delYn3").val("N");
	    });

		function fnInsertBarcode(){

			if($('input:checkbox[id="smartChk"]').is(":checked") == false){
				   alert("스마트 기기 약관에 동의해 주세요.");
				   return;
			}

    		/*  if($.trim($("#barcodeNumber").val())  == ""){
				   alert("바코드 번호를 입력해주세요.");
				   $("#barcodeNumber").focus();
				   return;
			  }  */
			 
			 actionurl = "/barcode/insert.do";
             $.ajax({
                 async: false,
                 type: "POST",
                 url : actionurl,
                 data : $("#frmJoin").serialize(),
                 dataType : "json",
                 success: function(obj){
                	 let result = obj.result;

                    /* mac주소로 변경(2022-01-21) if(result == "0"){
                	   alert("바코드 번호를 다시 확인해 주세요.");
                	   return;
                   } else if(result == "1"){
                	   alert("이미 등록된 번호입니다,바코드 번호를 다시 확인해 주세요.");
                	   return;
                   } else if(result == "2"){//등록성공
                	   fnAppDeviceSetup();
                   } else {
                	   alert("바코드 번호를 다시 확인해 주세요.");
                	   return;
                   } */
                   if(result == "1"){
                		var popthis = $(".pop_barcode");
            			$(".pop_mask").css("display","none");
            			popthis.css("display","none");
                	   fnAppDeviceSetup();
                   } else {
                	   alert("일시적인 오류입니다, 다시 시도해 주세요.");
                	   return;
                   }
                   
                	 
               
                 },
                 error: function(xhr, option, error){
                       //alert(xhr.status+" | "+error); //오류코드 | 오류내용
                	 alert("일시적인 오류입니다, 다시 시도해 주세요.");
                 }
               
             });
		}

		
		function fnBarcodeChk(){
   			 /*    let cIdx = $("#mSelectChild").val();
			    let chkData = { "mSelectChild": cIdx };
			    let actionurl = "/child/barcodeRegYn.do";
			    $.ajax({
	 	            async: false,
	 	            type: "POST",
	 	            data:chkData,
	 	            url : actionurl,
	 	            dataType : "json",
	 	            success: function(obj){
	 	               let result = obj.result;
	 	               if(result == "0"){
	 	            	  popupInfo('pop_barcode');
	 	               } else {
	 	            	  fnAppDeviceSetup();
	 	               }
	 	            },
	 	            error: function(xhr, option, error){
	 	                  //alert(xhr.status+" | "+error); //오류코드 | 오류내용
	 	            	 alert("일시적인 오류입니다, 다시 시도해 주세요.");
	 	            }
	 	        }) ;
			    
		 */
/* 		 
		 let currentOS;
		 const mobile = (/iphone|ipad|ipod|android/i.test( navigator.userAgent.toLowerCase()));


		 if (mobile)
		 {
		     const userAgent = navigator.userAgent.toLowerCase();
		     if (userAgent.search("android") > -1) {
		         currentOS = "android";

		     // 안드로이드 os 버젼 체크
		     const deviceAgent = 'Mozilla/5.0 (Linux; U; Android 2.2.1; en-us; device Build/FRG83) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Safari/533.1';
		     androidversion = parseFloat(deviceAgent.match(/Android\s+([\d\.]+)/)[1]);

		     } else if ((userAgent.search("iphone") > -1) || (userAgent.search("ipod") > -1) || (userAgent.search("ipad") > -1)) {
		         currentOS = "ios";
		     } else { currentOS = "else"; }
		 }
		 else  {  currentOS = "nomobile"; }
		 
		 
		 if(currentOS == "ios"){
			 ios_popup();
		 }else {
			  fnAppDeviceSetup();
		 }
	 */
		 
		 
		 fnAppDeviceSetup();
		 
		 
		}
		
		

		function fnCloseDiv(){
			 const section1 = document.getElementById('withdraw_area');
			window.scrollBy({top: section1.getBoundingClientRect().top, behavior: 'smooth'});

		}
		

		  $('#cbpopup').change(function() {
			    var popthis = $('#eudi_ios');
			    var mask = $(".pop_mask");
			    popthis.css("display","none");
			    mask.css("display","none");
				// 체크박스 체크 유무
				if ($('#cbpopup').prop('checked')) {
					// 쿠키 저장
					setCookie('ioseudi', '1',1);
				}
			});

    //휴대폰번호 중복 확인
    function chkCp(){

      if($("#mCpnumber2").val().trim() == ""){
        alert("휴대폰번호를 입력해주세요");
        $("#mCpnumber2").focus();
        return;
      }


      if($("#mCpnumber3").val().trim() == ""){
        alert("휴대폰번호를 입력해주세요");
        $("#mCpnumber3").focus();
        return;
      }


      var data = {"mCpnumber1": $("#mCpnumber1").val(),"mCpnumber2": $("#mCpnumber2").val(),"mCpnumber3": $("#mCpnumber3").val()};
      var actionurl = "/child/cpChk.do";

      $.ajax({
          async: false,
          type: "POST",
          url : actionurl,
          cache : false,
          data : data,
          dataType : "json",
          success: function(obj){
          
            var result = obj.result;
              if(result > 0){//아이디 존재
              alert("이미 가입된 휴대폰 번호입니다 다른 번호로 가입해 주세요");
                return;
              } else {
                  var result = confirm("가입 가능한 휴대폰 번호입니다 이 번호로 진행하시겠습니까?");
                if(result){
                $('[name=CPCHECK]').val('Y');
                } else {
                $("#mCpnumber2").val("");
                $("#mCpnumber3").val("");
                $('[name=CPCHECK]').val('N');
                return;
                  }
              }
        
          },
          error: function(xhr, option, error){
                alert(xhr.status+" | "+error); //오류코드 | 오류내용
          }
      });
          
    }

/* 퍼블추가 2023.03.10 */

        // 우편번호 찾기 찾기 화면을 넣을 element
        //var element_wrap = document.getElementById('addr_wrap');
        var element_layer = document.getElementById('layer');
    
    /*     function foldDaumPostcode() {
            // iframe을 넣은 element를 안보이게 한다.
            element_wrap.style.display = 'none';
        }
         */
        function closeDaumPostcode() {
            // iframe을 넣은 element를 안보이게 한다.
            element_layer.style.display = 'none';
        }

        function sample2_execDaumPostcode() {
            new daum.Postcode({
                oncomplete: function(data) {
                    // 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.
    
                    // 각 주소의 노출 규칙에 따라 주소를 조합한다.
                    // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
                    var addr = ''; // 주소 변수
                    var extraAddr = ''; // 참고항목 변수
    
                    //사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
                    if (data.userSelectedType === 'R') { // 사용자가 도로명 주소를 선택했을 경우
                        addr = data.roadAddress;
                    } else { // 사용자가 지번 주소를 선택했을 경우(J)
                        addr = data.jibunAddress;
                    }
    
                    // 사용자가 선택한 주소가 도로명 타입일때 참고항목을 조합한다.
                    if(data.userSelectedType === 'R'){
                        // 법정동명이 있을 경우 추가한다. (법정리는 제외)
                        // 법정동의 경우 마지막 문자가 "동/로/가"로 끝난다.
                        if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
                            extraAddr += data.bname;
                        }
                        // 건물명이 있고, 공동주택일 경우 추가한다.
                        if(data.buildingName !== '' && data.apartment === 'Y'){
                            extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                        }
                        // 표시할 참고항목이 있을 경우, 괄호까지 추가한 최종 문자열을 만든다.
                        if(extraAddr !== ''){
                            extraAddr = ' (' + extraAddr + ')';
                        }
                        // 조합된 참고항목을 해당 필드에 넣는다.
                        document.getElementById("pAddr2").value = extraAddr;
    
                    } else {
                        document.getElementById("pAddr2").value = '';
                    }
    
                    // 우편번호와 주소 정보를 해당 필드에 넣는다.
                    document.getElementById('pPost').value = data.zonecode;
                    document.getElementById("pAddr1").value = addr;
                    // 커서를 상세주소 필드로 이동한다.
                    document.getElementById("pAddr2").focus();
                    $("#addr_box01").removeClass("blind");
                    $("#addr_box02").addClass("blind");
    
                    // iframe을 넣은 element를 안보이게 한다.
                    // (autoClose:false 기능을 이용한다면, 아래 코드를 제거해야 화면에서 사라지지 않는다.)
                    element_layer.style.display = 'none';
    
    
                },
                width : '100%',
                height : '100%',
                maxSuggestItems : 5
            }).embed(element_layer);
    
            // iframe을 넣은 element를 보이게 한다.
            element_layer.style.display = 'block';
    
            // iframe을 넣은 element의 위치를 화면의 가운데로 이동시킨다.
            initLayerPosition();
        }
    
    
        function initLayerPosition(){
            var width = 300; //우편번호서비스가 들어갈 element의 width
            var height = 400; //우편번호서비스가 들어갈 element의 height
            var borderWidth = 5; //샘플에서 사용하는 border의 두께
    
            // 위에서 선언한 값들을 실제 element에 넣는다.
            element_layer.style.width = width + 'px';
            element_layer.style.height = height + 'px';
            element_layer.style.border = borderWidth + 'px solid';
            // 실행되는 순간의 화면 너비와 높이 값을 가져와서 중앙에 뜰 수 있도록 위치를 계산한다.
            element_layer.style.left = (((window.innerWidth || document.documentElement.clientWidth) - width)/2 - borderWidth) + 'px';
            element_layer.style.top = (((window.innerHeight || document.documentElement.clientHeight) - height)/2 - borderWidth) + 'px';
        }
    
    
        function maxLengthCheck(object){
        if(object.value.length > object.maxLength) {
          object.value = object.value.slice(0, object.maxLength);
        }
      }

	  </script>
	  
	  
  </body>
</html>
