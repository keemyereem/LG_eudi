<!DOCTYPE html>
 
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<html>
<head>
<script>

/*메세지*/
if("" != ""){
	var msg = "".replace("<br>", "\n");
	alert(msg);
	
}

</script>
<!-- SET FILE PATH :: compatibility ie9 code -->
<base href="../" />
<!--[if IE]><script type="text/javascript">
  // Fix for IE ignoring relative base tags.
  (function() {
    var baseTag = document.getElementsByTagName('base')[0];
    baseTag.href = baseTag.href;
  })();
</script><![endif]-->
<meta charset="UTF-8">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
<link rel="canonical" href="https://eudi.lgchem.com/product/product_request.do" />
<meta name="format-detection" content="telephone=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="no-cache"/>
<meta http-equiv="Expires" content="0"/>
<meta http-equiv="Pragma" content="no-cache"/>

<!-- TITLE -->
<title>물품요청 - 신청 | EuDi</title>
  
<!-- 스마트 케이스 팝업 추가 -->


<!--2019-09-16 4M 김현빈-->
<!-- common css file-->

<link rel="stylesheet" href="/resource/assets/web/css/main.css?20231102030721">
<link rel="stylesheet" href="/resource/assets/web/css/mediaQuery.css?20231102030721">


<!-- child css file -->
<link rel="stylesheet" href="/resource/assets/web/child/css/common.css?20231102030721">
<link rel="stylesheet" href="/resource/assets/web/child/css/slick.css?20231102030721">
<link rel="stylesheet" href="/resource/assets/web/child/css/sub.css?20231102030721">
<link rel="stylesheet" href="/resource/assets/web/child/css/font.css?20231102030721">
<!-- child js file--> 
<script type="text/javascript" src="/resource/assets/web/child/js/lib/jquery-1.11.3.min.js?version=2.0"></script>
<script type="text/javascript" src="/resource/assets/web/child/js/lib/jquery-ui-1.11.3.min.js?version=2.0"></script>
<script type="text/javascript" src="/resource/assets/web/child/js/lib/jquery.easing.1.3.js?version=2.0"></script>
<script type="text/javascript" src="/resource/assets/web/child/js/common.js?20231102030721"></script>
<script type="text/javascript" src="/resource/assets/web/child/js/lib/slick.min.js"></script>


<!-- common js file-->
<script type="text/javascript" src="/resource/assets/web/js/jquery.cookie.js?version=2.0"></script>
<script type="text/javascript" src="/resource/assets/common/js/common.js?20231102030721"></script>

<script type="text/javascript" src="/resource/assets/nurse/js/lib/datepicker-ko.js?version=1.2"></script>

<!-- 개발용 css -->
<style>
	.placeholder-err::placeholder{
	  color: red;
	  opacity: 1; /* 파이어폭스에서 뿌옇게 나오는 현상을 방지하기 위한 css */
	}
	.placeholder-err::-webkit-input-placeholder{
	  color: red;
	}
	.placeholder-err:-ms-input-placeholder{
	  color: red;
	}
	.placeholder-err:-mos-input-placeholder {
	  color: red;
	}
</style>
<script type="text/javascript">
    function SHA256(s){
      
        var chrsz   = 8;
        var hexcase = 0;
      
        function safe_add (x, y) {
            var lsw = (x & 0xFFFF) + (y & 0xFFFF);
            var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
            return (msw << 16) | (lsw & 0xFFFF);
        }
      
        function S (X, n) { return ( X >>> n ) | (X << (32 - n)); }
        function R (X, n) { return ( X >>> n ); }
        function Ch(x, y, z) { return ((x & y) ^ ((~x) & z)); }
        function Maj(x, y, z) { return ((x & y) ^ (x & z) ^ (y & z)); }
        function Sigma0256(x) { return (S(x, 2) ^ S(x, 13) ^ S(x, 22)); }
        function Sigma1256(x) { return (S(x, 6) ^ S(x, 11) ^ S(x, 25)); }
        function Gamma0256(x) { return (S(x, 7) ^ S(x, 18) ^ R(x, 3)); }
        function Gamma1256(x) { return (S(x, 17) ^ S(x, 19) ^ R(x, 10)); }
      
        function core_sha256 (m, l) {
             
            var K = new Array(0x428A2F98, 0x71374491, 0xB5C0FBCF, 0xE9B5DBA5, 0x3956C25B, 0x59F111F1,
                0x923F82A4, 0xAB1C5ED5, 0xD807AA98, 0x12835B01, 0x243185BE, 0x550C7DC3,
                0x72BE5D74, 0x80DEB1FE, 0x9BDC06A7, 0xC19BF174, 0xE49B69C1, 0xEFBE4786,
                0xFC19DC6, 0x240CA1CC, 0x2DE92C6F, 0x4A7484AA, 0x5CB0A9DC, 0x76F988DA,
                0x983E5152, 0xA831C66D, 0xB00327C8, 0xBF597FC7, 0xC6E00BF3, 0xD5A79147,
                0x6CA6351, 0x14292967, 0x27B70A85, 0x2E1B2138, 0x4D2C6DFC, 0x53380D13,
                0x650A7354, 0x766A0ABB, 0x81C2C92E, 0x92722C85, 0xA2BFE8A1, 0xA81A664B,
                0xC24B8B70, 0xC76C51A3, 0xD192E819, 0xD6990624, 0xF40E3585, 0x106AA070,
                0x19A4C116, 0x1E376C08, 0x2748774C, 0x34B0BCB5, 0x391C0CB3, 0x4ED8AA4A,
                0x5B9CCA4F, 0x682E6FF3, 0x748F82EE, 0x78A5636F, 0x84C87814, 0x8CC70208,
                0x90BEFFFA, 0xA4506CEB, 0xBEF9A3F7, 0xC67178F2);
 
            var HASH = new Array(0x6A09E667, 0xBB67AE85, 0x3C6EF372, 0xA54FF53A, 0x510E527F, 
                       0x9B05688C, 0x1F83D9AB, 0x5BE0CD19);
 
            var W = new Array(64);
            var a, b, c, d, e, f, g, h, i, j;
            var T1, T2;
      
            m[l >> 5] |= 0x80 << (24 - l % 32);
            m[((l + 64 >> 9) << 4) + 15] = l;
      
            for ( var i = 0; i<m.length; i+=16 ) {
                a = HASH[0];
                b = HASH[1];
                c = HASH[2];
                d = HASH[3];
                e = HASH[4];
                f = HASH[5];
                g = HASH[6];
                h = HASH[7];
      
                for ( var j = 0; j<64; j++) {
                    if (j < 16) W[j] = m[j + i];
                    else W[j] = safe_add(safe_add(safe_add(Gamma1256(W[j - 2]), W[j - 7]), Gamma0256(W[j - 15])), W[j - 16]);
      
                    T1 = safe_add(safe_add(safe_add(safe_add(h, Sigma1256(e)), Ch(e, f, g)), K[j]), W[j]);
                    T2 = safe_add(Sigma0256(a), Maj(a, b, c));
      
                    h = g;
                    g = f;
                    f = e;
                    e = safe_add(d, T1);
                    d = c;
                    c = b;
                    b = a;
                    a = safe_add(T1, T2);
                }
      
                HASH[0] = safe_add(a, HASH[0]);
                HASH[1] = safe_add(b, HASH[1]);
                HASH[2] = safe_add(c, HASH[2]);
                HASH[3] = safe_add(d, HASH[3]);
                HASH[4] = safe_add(e, HASH[4]);
                HASH[5] = safe_add(f, HASH[5]);
                HASH[6] = safe_add(g, HASH[6]);
                HASH[7] = safe_add(h, HASH[7]);
            }
            return HASH;
        }
      
        function str2binb (str) {
            var bin = Array();
            var mask = (1 << chrsz) - 1;
            for(var i = 0; i < str.length * chrsz; i += chrsz) {
                bin[i>>5] |= (str.charCodeAt(i / chrsz) & mask) << (24 - i%32);
            }
            return bin;
        }
      
        function Utf8Encode(string) {
            string = string.replace(/\r\n/g,"\n");
            var utftext = "";
      
            for (var n = 0; n < string.length; n++) {
      
                var c = string.charCodeAt(n);
      
                if (c < 128) {
                    utftext += String.fromCharCode(c);
                }
                else if((c > 127) && (c < 2048)) {
                    utftext += String.fromCharCode((c >> 6) | 192);
                    utftext += String.fromCharCode((c & 63) | 128);
                }
                else {
                    utftext += String.fromCharCode((c >> 12) | 224);
                    utftext += String.fromCharCode(((c >> 6) & 63) | 128);
                    utftext += String.fromCharCode((c & 63) | 128);
                }
      
            }
      
            return utftext;
        }
      
        function binb2hex (binarray) {
            var hex_tab = hexcase ? "0123456789ABCDEF" : "0123456789abcdef";
            var str = "";
            for(var i = 0; i < binarray.length * 4; i++) {
                str += hex_tab.charAt((binarray[i>>2] >> ((3 - i%4)*8+4)) & 0xF) +
                hex_tab.charAt((binarray[i>>2] >> ((3 - i%4)*8  )) & 0xF);
            }
            return str;
        }
      
        s = Utf8Encode(s);
        return binb2hex(core_sha256(str2binb(s), s.length * chrsz));
      
    }
     

    
	/*
	 * App & 스마트케이스 관련.. 
	 * */
	// 현재 호출한 디바이스가 어떤 것인지 체크합니다.
	var isMobile = {
		Android: function () {
			return navigator.userAgent.match(/Android/i) == null ? false : true;
		},
		iOS: function () {
			return navigator.userAgent.match(/iPhone|iPad|iPod/i) == null ? false : true;
		},
		any: function () {
			return (isMobile.Android() || isMobile.iOS());
		}
	};
	
	 
	//App에 로그인정보 전달
	function fnAppLoginChk() {
		$.ajax({
			type: "POST",
			url: "/smart/getLoginInfo.do",
			//data:JSON.stringify(data),
			contentType: "application/x-www-form-urlencoded; charset=UTF-8",
			dataType: "json"
		}).done(function(resp){
			console.log(JSON.stringify(resp));
			//App에 Javascript Bridge 연결하여 전달
			if (isMobile.any()) {
				if (isMobile.Android()) {
					window.eudiApp.fnAppLoginChk_Res(JSON.stringify(resp));
				} else if (isMobile.iOS()) {
					webkit.messageHandlers.fnAppLoginChk_Res.postMessage(JSON.stringify(resp));
				}
			}
		}).fail(function(error){
			//alert(JSON.stringify(error));
		});
	}
	
	
	// 로그인 페이지로 이동
	function fnAppLoginForm() {
		location.href = "/child/login.do";
	}
	
	
	// 환아 변경하기
	function fnAppChangeChild(mId, cIdx) {
		var data = {
				mId: mId,
				cIdx: cIdx
			};
		
		$.ajax({
			type: "POST",
			url: "/smart/changeSelectChild.do",
			data: data,
			contentType: "application/x-www-form-urlencoded; charset=UTF-8",
			dataType: "json"
		}).done(function(resp){
			console.log(JSON.stringify(resp));
			//App에 Javascript Bridge 연결하여 전달
			if (isMobile.any()) {
				if (isMobile.Android()) {
					window.eudiApp.fnAppChangeChild_Res(JSON.stringify(resp));
				} else if (isMobile.iOS()) {
					webkit.messageHandlers.fnAppChangeChild_Res.postMessage(JSON.stringify(resp));
				}
			}
			
			//정상적으로 완료하였으면 메인으로 이동
			if (resp.result == "success") location.href = "/child/main.do";
		}).fail(function(error){
			//alert(JSON.stringify(error));
		});
	}
	
	
	// 스마트기기 관리 열기
	function fnAppDeviceSetup() {
		if (isMobile.any()) {
			if (isMobile.Android()) {
				window.eudiApp.fnDeviceSetup();
			} else if (isMobile.iOS()) {
				webkit.messageHandlers.fnDeviceSetup.postMessage("");
			}
		}
	}
	
	
	// 스마트케이스에서 등록된 투여정보 팝업으로 보여주기
	function fnAppPopupCheck(cIdx) {
		var data = {
				cIdx: cIdx
			};
		$.ajax({
			type: "POST",
			url: "/smart/selectPopupCheck.do",
			data: data,
			contentType: "application/x-www-form-urlencoded; charset=UTF-8",
			dataType: "html"
		}).done(function(resp){
			if(resp != 'noList'){
				 $(".pop_info_inner").html(resp);
				 popupInfoSmart('pop_smartcase_dose');
			}
		}).fail(function(error){
			//alert(JSON.stringify(error));
		});
	}
	

	  //팝업 확인 한 데이터 날짜 수정 
    function fnPopupDateUpdate(cidx){
    	const data = {"cIdx":cidx};
        actionurl = "/child/updatePopupDate.do";
            $.ajax({
                async: false,
                type: "POST",
                url : actionurl,
                data : data,
                dataType : "json",
                success: function(obj){
              		//window.location.href='/child/dose_input_cal.do';
              		window.location.reload();
                },
                error: function(xhr, option, error){
                	   msg = "서버와 통신중 에러가 발생하였습니다.다시 시도 해주세요"
                          // alert(msg);
                }
                
            });
    }
	
	$(function(){
        // APP 상태바 색상 변경
        
        const thisPath = window.location.pathname;
		//const appStateGreenUris = ['/child/login.do','/child/main.do'];
		const appStateGreenUris = ['/child/login.do'];
		let appStateBg = '#ffffff';
		let appStateTxtIsDark = true;
        try{
        	if (appStateGreenUris.find(el => el === thisPath)) {
        		appStateBg = '#79bd28';
        		appStateTxtIsDark = false;
        	}
    		if (isMobile.any()) {
    			if (isMobile.Android()) {
   					window.eudiApp.setStatusBarColor(appStateBg, appStateTxtIsDark);
    			} else if (isMobile.iOS()) {
   					webkit.messageHandlers.setStatusBarColor.postMessage(appStateBg);
    			}
    		}		
        } catch (e) {
        	// TODO : exception
        	console.log(e);
        }
	});
	  
	 
	$(window).load(function() {
		if("39513"){
			fnAppPopupCheck(0);//로드시 팝업 호출
		}
	});
</script>


<!--  스마트 케이스 연동 투여 팝업 -->
      <div class="pop_mask_smart"></div>
      <div class="pop_info pop_smartcase_dose">
        <div class="pop_info_inner">

        </div>
      </div>

    <!-- <script src="http://dmaps.daum.net/map_js_init/postcode.v2.js"></script> -->

<script>

    var totalCnt = 0;//물품 신청 총수

    let submitFlag = false;//중복 방지 추가

    $(function(){
      selEvent.init();
      $(window).resize(resizeContents);
      resizeContents();
      function resizeContents() {
        $('.wrap_sub').css({
          'min-height': $(window).height() + 'px'
        });
      }
    });

    function fnWriteChk(){

      if(submitFlag){
        alert("현재 신청 중입니다.");
        return;
      }
      if($("input[type='radio']:checked").size() < 1){
        alert("제품명을 선택해주세요.");
        $("#pProductSort").focus();
        return;
    }

    if($("#requestCottonNeedleAmount").val() == "0" && $("#requestAddCotton").val() == "0" && $("#requestEtcInfo").val() == "" ){
      alert("주사바늘,알콤솜,기타자재 중 하나 이상을 신청하셔야합니다");
        $("#requestCottonNeedleAmount").focus();
        return;
    }

    if($("#pPost").val() == ""){
        alert("배송주소를 입력해 주세요.");
        $("#pPost").focus();
        return;
    }


    if($("#pAddr2").val() == ""){
        alert("상세주소를 입력해 주세요.");
        $("#pAddr2").focus();
        return;
    }


      if($("input[type='radio']:checked").size() > 0 && ($("#requestCottonNeedleAmount").val() != "0" || $("#requestAddCotton").val() != "0" || $("#requestEtcInfo").val() !=  "") && $("#pPost").val() != ""){
      submitFlag = true;
      }

    //document.writeForm.submit();
    $("#loading").show();
  $("#div-dark").show();

    var frm = 'writeForm';
    var formData = $("#"+frm).serialize();
    $.ajax({
      type : "POST",
      async: true,
      url : $("#"+frm).attr("action"),
      cache : false,
      data : formData,
      success : function(obj){

        /*  if(obj.result > 0){
            alert("저장 되었습니다");
            location.href="/growth/growth_graph.do";
              } else {
                alert("일시적인 오류 입니다,다시 시도해주세요.");
                return;
              } */
              $("#loading").hide();
              $("#div-dark").hide();

                if(obj.result > 0){
                  if(obj.result == 2){
                    $("#result_title_txt").html("").html("신청 개수를 초과하여 신청할 수 없습니다");
                  }else {
                    $("#result_title_txt").html("").html("물품신청이 완료 되었습니다");
                    totalCnt = obj.totalCnt;//물품 신청 총수 정보
                  }

                  $("#result_txt").html("").html(obj.result_txt);
                  popupInfo('pop_order_result');
                } else {
                alert("신청하신 물품 수량에 오류가 있습니다,다시 시도해주세요");
                location.reload();
                }
      },
      error : function(data,status){
        alert("시스템 오류 입니다,다시 시도해주세요");
      }
    });


  }

</script>
</head>
<style>
.dark {background-color:#B2B2B2;opacity:0.5;filter:Alpha(opacity:'30');width:100%;height:100%;top:0;left:0;position:fixed;z-index:9000;}
</style>
<body>
  <div class="wrap wrap_sub wrap_sub04 wrap_purple">
    <!--// nav -->
    <div class="sub_top">
      
      <div class="nav">
        <div class="nav_inner">
          <h2 class="title">
              물품신청
          </h2>
          <div class="back"><a href="/child/main.do"><img src="/resource/assets/web/child/images/common/back.png" alt="뒤로가기" /></a></div>
        </div>
      </div>
      
      <div class="tab">
        <div class="inner">
          <ul>
            <li  class="active"><a href="/product/product_list.do">물품요청</a></li>
            <li ><a href="/product/counseling_list.do">온라인문의</a></li>
            <li ><a href="/product/product_faq.do">FAQ</a></li>
          </ul>
        </div>
      </div>
        
    </div>
    <!-- nav //-->

    <!--// content -->
    <form id="writeForm" name="writeForm" commandName="ProductVO" action="/product/writeProc.do" method="post">
    <input type="hidden" name="cHospitalIdx" id="cHospitalIdx" value="NP00000045">
    <input type="hidden" name="doctOnkyCd" id="doctOnkyCd" value="LGLS233014">
    <div class="content con_sub con_sub04">
      <div class="con_box">
        <div class="con_inner">
          <div class="tb">
            <table summary="물품요청" >
              <caption>물품요청</caption>
              <colgroup>
                  <col style="width:110px;">
                  <col style="*">
              </colgroup>
                <form name="writeForm" id="writeForm" role="form" method="post">
              <tbody>
                <tr>
                  <td class="tit"><p>회원 아이디</p></td>
                  <td class="cont">
                    <p>4mtest1</p>
                  </td>
                </tr>
                  <tr>
                  <td class="tit"><p>아이명</p></td>
                  <td class="cont">
                    <p>이포엠</p>
                  </td>
                </tr>
                  <tr>
                  <td class="tit"><p>병원명</p></td>
                  <td class="cont">
                    <div class="input_search">
                      <span class="input_box">
                        <input type="text" class="ipt"   id="cHospitalName"  name="cHospitalName" value="LGLS" readonly="">
                        <div class="btn_search"><a href="javascript:;" onclick="popupsrh();"></a></div>
                      </span>
                    </div>
                  </td>
                </tr>
                  <tr>
                  <td class="tit"><p>의사명</p></td>
                  <td class="cont">
                    <div class="input_search">
                      <span class="input_box">
                        <input type="text" id="cDoctorName" name="cDoctorName" value="김가림" class="ipt">
                        <div class="btn_search"><a href="javascript:;" onclick="popupdoctor();"></a></div>
                      </span>
                    </div>
                  </td>
                </tr>
                  <tr>
                  <td class="tit"><p>제품선택</p></td>
                  <td class="cont">
                    <div class="cont_inner">
                      <!-- <div class="select_row">
                        <label for="pProductSort">선택</label>
                        <select id="pProductSort"  name="pProductSort">
                          <option value="">선택</option>
                          <option value="P">유트로핀 펜</option>
                          <option value="U">유트로핀</option>
                          <option value="PL">유트로핀플러스</option>
                          <option value="A">유트로핀12IU</option>
                        </select>
                      </div> -->

                      <div class="product_box">
                        <div class="radio_row">
                          <img alt="유트로핀 에스펜" src="/resource/assets/web/child/images/sub/product_S.png">
                          <input type="radio" id="6101200009" name="pProductSort" value="6101200009" checked>
                          <label for="6101200009">유트로핀 에스펜</label>
                        </div>
                    
                        <div class="radio_row">
                          <img alt="유트로핀 12IU" src="/resource/assets/web/child/images/sub/product_A.png">
                          <input type="radio" id="6101200007" name="pProductSort" value="6101200007" >
                          <label for="6101200007">유트로핀 12IU</label>
                        </div>
                    
                        <div class="radio_row">
                          <img alt="유트로핀 펜" src="/resource/assets/web/child/images/sub/product_P.png">
                          <input type="radio" id="6101200006" name="pProductSort" value="6101200006" >
                          <label for="6101200006">유트로핀 펜</label>
                        </div>
                    
                        <div class="radio_row">
                          <img alt="유트로핀 4IU" src="/resource/assets/web/child/images/sub/product_U.png">
                          <input type="radio" id="6101200001" name="pProductSort" value="6101200001" >
                          <label for="6101200001">유트로핀 4IU</label>
                        </div>
                    
                        <div class="radio_row">
                          <img alt="유트로핀 플러스" src="/resource/assets/web/child/images/sub/product_PL.png">
                          <input type="radio" id="6101200003" name="pProductSort" value="6101200003" >
                          <label for="6101200003">유트로핀 플러스</label>
                        </div>
                      </div>
                      <p class="txt">제품선택시 '반드시' 포장지의 제품명을 확인하여 주세요.(제품별 주사바늘 종류 다름)<br></p>
                    </div>
                  </td>
                </tr>
                  <td class="tit"><p>주사바늘</td>
                  <td class="cont">
                    <div class="cont_inner">
                      <div class="select_row select_row02">
                        <label for="requestCottonNeedleAmount" id="requestCottonNeedleAmount_txt">0 개</label>
                        <select id="requestCottonNeedleAmount" name="requestCottonNeedleAmount">
                        </select>
                      </div>
                        <!-- <p class="txt">(ex:90개 선택시 니들90개 솜 180개 발송)</p>  -->
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="tit"><p>알콜솜</p></td>
                  <td class="cont">
                    <div class="cont_inner">
                      <div class="select_row select_row02">
                        <label for="requestAddCotton" id="requestAddCotton_txt">0 개</label>
                        <select id="requestAddCotton" name="requestAddCotton">
                        <!--     <option value="100">100 개</option>
                            <option value="200">200 개</option> -->
                        </select>
                      </div>
                    <!--   <p class="txt">(필요시에 선택)</p>  -->
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="tit"><p>기타자재</p></td>
                      <td class="cont">
                    <div class="cont_inner">
                      <div class="input_row">
                          <span class="input_box">
                            <input type="text" id="requestEtcInfo" name="requestEtcInfo" class="ipt" maxlength="50">
                          </span>
                        </div>
                          <p class="txt">물품 신청 개수 초과 시에도 기타 자재만 신청하실 때에는 제품 선택을 하신 후 주사바늘, 알콜솜 수량을 0으로 하시고 주문하시면 신청이 가능합니다.</p>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="tit"><p>내용</p></td>
                  <td class="cont">
                    <div class="cont_inner">
                      <div class="area_box">
                        <textarea type="text" id="pContent" name="pContent" maxlength="5000"></textarea>
                      </div>
                    </div>
                  </td>
                </tr>
                    <tr>
                  <td class="tit"><p>연락처</p></td>
                    <td class="cont">
                    <div class="select_tel">
                      <label for="pCpNumber1">010</label>
                      <select id="pCpNumber1" name="pCpNumber1">
                          <option value="010" selected="selected">010</option>
                        <option value="011" >011</option>
                          <option value="017" >017</option>
                          <option value="018" >018</option>
                          <option value="019" >019</option>
                      </select>
                    </div>
                    <span class="hyphen">-</span>
                    <div class="input_tel">
                      <span class="input_box">
                        <input type="tel" id="pCpNumber2" name="pCpNumber2" value="3186" class="ipt" style="ime-mode:disabled" required="required" data-title="휴대폰번호를" title="휴대폰번호를" maxlength="4" oninput="maxLengthCheck(this)">
                      </span>
                    </div>
                    <span class="hyphen">-</span>
                    <div class="input_tel">
                      <span class="input_box">
                        <input type="tel" id="pCpNumber3" name="pCpNumber3" value="7221" class="ipt" style="ime-mode:disabled" required="required" data-title="휴대폰번호를" title="휴대폰번호를" maxlength="4" oninput="maxLengthCheck(this)">
                      </span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="tit"><p>배송주소</p></td>
                  <td class="cont">
                    <div class="cont_inner">

                        <div class="addr_box01 blind" id="addr_box01">
                        <div class="input_addr">
                          <span class="input_box"><!-- readonly -->
                            <input type="text" id="pPost" name="pPost" class="ipt" value="06122" readonly>
                          </span>
                          <div class="btn_addr"><a href="javascript:;" onclick="sample2_execDaumPostcode();">우편번호 검색</a></div>
                        </div>
                        <div class="input_row mt4">
                          <span class="input_box">
                            <input type="text" id="pAddr1" name="pAddr1" class="ipt"  value="서울 강남구 논현로111길 3 (논현동, 휴먼스페이스주상복합아파트)" readonly>
                          </span>
                        </div>
                        <div class="input_row mt4">
                          <span class="input_box">
                            <input type="text" id="pAddr2" name="pAddr2" class="ipt" value="1">
                          </span>
                        </div>
                      </div>


                      <!--// 주소 입력 후 -->
                      <div class="addr_box02"  id="addr_box02">
                        <div class="btn_addr"><a href="javascript:;" onclick="sample2_execDaumPostcode();">우편번호 검색</a></div>
                        <ul>
                          <li>06122</li>
                          <li>서울 강남구 논현로111길 3 (논현동, 휴먼스페이스주상복합아파트)</li>
                          <li>1</li>
                        </ul>
                      </div>

                    </div>

                  </td>
                </tr>
              </tbody>
            </table>

              <!-- 병원명 검색 -->
              <div class="pop_mask"></div>
              <div class="pop_search">
                <div class="pop_search_inner">
                  <div class="btn_close pop_close"><a href="javascript:;"><img src="/resource/assets/web/nurse/images/common/btn_close.png" alt="닫기"></a></div>
                  <div class="pop_con">
                    <div class="pop_tit">병원명 검색</div>
                    <div class="search_area">
                      <p>등록되어 있는 병원명 또는 간략한 주소를 입력하시고 [검색]버튼을 클릭해주세요.</p>
                      <div class="search_ipt">
                        <div class="search_cell">
                          <div class="input_row">
                            <span class="input_box">
                              <input type="text" id="search_name"  class="ipt">
                            </span>
                          </div>
                        </div>
                        <div class="search_cell btn">
                          <div class="btn_search"><a href="javascript:fnHospitalSearch();">검색</a></div>
                        </div>
                      </div>
                    </div>
                    <div class="search_list" id="search_hospital">
                    </div>
                  </div>
                </div>
              </div>

              <!-- 의사 검색 -->
              <div class="pop_mask_doctor"></div>
              <div class="pop_search_doctor">
                <div class="pop_search_inner">
                  <div class="btn_close pop_close"><a href="javascript:;"><img src="/resource/assets/web/nurse/images/common/btn_close.png" alt="닫기"></a></div>
                  <div class="pop_con">
                    <div class="pop_tit">의사명 검색</div>
                    <div class="search_area">
                        <p>등록되어 있는 의사명 입력하시고 [검색]버튼을 클릭해주세요.</p>
                      <div class="search_ipt">
                        <div class="search_cell">
                          <div class="input_row">
                            <span class="input_box">
                              <input type="text" id="search_doctor_name"  class="ipt">
                            </span>
                          </div>
                        </div>
                        <div class="search_cell btn">
                          <div class="btn_search"><a href="javascript:fnDoctorSearch();">검색</a></div>
                        </div>
                      </div>
                    </div>
                    <div class="search_list" id="search_doctor">
                    </div>
                  </div>
                </div>
              </div>

          </div>

          <!-- 다음 우편번호 찾기 리스트를 띄울 영역을 지정 -->
<!-- 		<div id="addr_wrap" class="addrBox" style="display:none;border:1px solid;width:100%;height:auto;position:relative;top:-95px;">
      <img src="//t1.daumcdn.net/postcode/resource/images/close.png" id="btnFoldWrap" style="width:20px;cursor:pointer;position:absolute;right:0px;top:-1px;z-index:1" onclick="foldDaumPostcode()" alt="접기 버튼">
    </div> -->

    <div id="layer" style="display:none;position:fixed;overflow:hidden;z-index:1;-webkit-overflow-scrolling:touch;">
    <img src="//t1.daumcdn.net/postcode/resource/images/close.png" id="btnCloseLayer" style="width:20px;cursor:pointer;position:absolute;right:0px;top:-1px;z-index:1" onclick="closeDaumPostcode()" alt="닫기 버튼">
    </div>


          <!-- //-->

          <ul class="info_list">
            <li>택배배송은 보통 3~4일 걸리며, 상황에 따라 1주일정도 걸릴수 있습니다.</li>
            <li>신청하신 물품이 자동 배송되는 것은 아니며, 담당간호사의 확인 후 배송되어집니다.</li>
          </ul>

        </div>
      </div>
    </div>
    </form>
    <!-- content //-->
    <div class="btn_box btn_box02 btn_bottom">
      <div class="inner">
        <div class="btn_gray"><a href="javascript:;" onclick="fnListPage()">취소</a></div>
        <div class="btn_pink"><a href="javascript:;" onclick="fnWriteChk()">신청</a></div>
      </div>
    </div>
  </div>
  </form>

  <!-- 로딩 div -->
  <div id="div-dark" class="dark" style="display:none;"></div>
  <div id="loading" style="display:none; top: 45%; left: 70%;  margin-left:-100px;z-index: 9999; border: 3px #2B97D6;position:fixed">
    <p style="text-align: center;">
        <img src="/resource/assets/nurse/images/common/loading.gif" alt="loading" />
        <font color="#0054FF"><span id="percentage"></span></font>
    </p>
  </div>

  <!--  물품신청 결과 -->
  <div class="pop_mask"></div>
  <div class="pop_info pop_order_result">
    <div class="pop_info_inner">
      <div class="btn_close pop_close"><a href="/product/product_list.do"><img src="/resource/assets/web/child/images/common/btn_close.png" alt="닫기" /></a></div>
      <div class="pop_con">
        <p class="pop_tit">물품신청<br>
        <span id="result_title_txt">신청 개수를 초과하여 신청할 수 없습니다</span>
        </p>
        <p class="pop_txt" id="result_txt"></p>
        <div class="btn_box">
          <div class="btn_green pop_close" style="width:100%"><a href="/product/product_list.do">확인</a></div>
        </div>
      </div>
    </div>
  </div>

  <!-- 제품선택: 유트로핀펜, 유트로핀에스펜 선택시 노출 -->
  <div class="pop_mask"></div>
  <div class="pop_info pop_productNoti">
    <div class="pop_info_inner">
      <div class="btn_close pop_close"><a href="javascript:;"><img src="/resource/assets/web/child/images/common/btn_close.png" alt="닫기"></a></div>
      <div class="pop_con">
        <p class="fc222 fz13 tcenter">
          유트로핀펜, 유트로핀에스펜<br>
          투여를 위해 무상 제공되는<br>
          <b class="fwB">주사바늘(노보파인 32G 6mm)이<br>
            BD 32G 4mm 로 변경</b>되어 제공됩니다.
        </p>
        <p class="fc999 fz10 tcenter mt10">(23.11.06 신청분부터)</p>
        <p class="fc999 fz11 tcenter mt10">
          원활한 주사바늘 지급을 위해 제품을<br>
          교체하게 된 점 양해 부탁드립니다.
        </p>
        <p class="fc999 fz11 tcenter mt10">
          기존 주사바늘(노보파인 32G 6mm)에 대한<br>
          문의가 있으실 경우, 온라인 문의 게시판 또는 <br>
          담당 간호사에게 연락 부탁드립니다.
        </p>
        <div class="pop_btn">
          <div class="btn_box">
            <div class="btn_purple"><button class="btn_confirm">확인</button></div>
          </div>
          <div class="checkbox_row purple_checkbox_row">
            <input type="checkbox" id="closeForToday" name="closeForToday">
            <label for="closeForToday">하루 동안 열지 않기</label>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
  var toggleMainPopup = function() {
    
    /* 스토리지 제어 함수 정의 */
    var handleStorage = {
      // 스토리지에 데이터 쓰기(이름, 만료일)
      setStorage: function (name, exp) {
      // 만료 시간 구하기(exp를 ms단위로 변경)
      var date = new Date();
      date = date.setTime(date.getTime() + exp * 24 * 60 * 60 * 1000);

      // 로컬 스토리지에 저장하기
      // (값을 따로 저장하지 않고 만료 시간을 저장)
      localStorage.setItem(name, date)
      },
      // 스토리지 읽어오기
      getStorage: function (name) {
      var now = new Date();
      now = now.setTime(now.getTime());
      // 현재 시각과 스토리지에 저장된 시각을 각각 비교하여
      // 시간이 남아 있으면 true, 아니면 false 리턴
      return parseInt(localStorage.getItem(name)) > now
      }
    };
    
    // 쿠키 읽고 화면 보이게
    if (handleStorage.getStorage("today")) {
        $(".pop_productNoti").css('display','none');
        $(".pop_productNoti").prev('.pop_mask').css('display','none');
    } else {
        $(".pop_productNoti").css('display','block');
        $(".pop_productNoti").prev('.pop_mask').css('display','block');
    }

    // 일반 닫기 버튼
    $(".pop_productNoti").on("click", ".pop_close", function () {
        $(this).parents(".pop_productNoti").css('display','none');
        $(this).parents(".pop_productNoti").prev('.pop_mask').css('display','none');
    });

    $(".pop_productNoti").on("click", ".btn_confirm", function () {
      $(this).parents(".pop_productNoti").css('display','none');
      $(this).parents(".pop_productNoti").prev('.pop_mask').css('display','none');
      // 체크박스 체크 유무
      if ($('#closeForToday').prop('checked')) {
        // 쿠키 저장
        handleStorage.setStorage("today", 1);
      }
    });
  }

  $(function() {
      toggleMainPopup();
  });

  </script>

</body>
<script>
  function fnListPage(){
	 	document.writeForm.action = "/product/product_list.do";
	    document.writeForm.submit();

	}
</script>
<script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script>
//신환 기본 세팅
if("Y" == 'N' && Number("1") < 1 && "Y" == 'Y'){
	 if("6101200009" == "6101200001"){//유트로핀
		 $("#requestEtcInfo").val("보냉가방,주사가이드,바이알케이스");
	} else if("6101200009" == "6101200006"){//유트로핀 펜
		 //$("#requestEtcInfo").val("보냉가방,주사가이드,케이스,네임택,바늘가리개");
		 $("#requestEtcInfo").val("보냉가방,주사가이드,케이스,네임택");
	} else if("6101200009" == "6101200003"){//유트로핀플러스
		 $("#requestEtcInfo").val("보냉가방,주사가이드.바이알케이스,쉐이커,밴드");
	} else if("6101200009" == "6101200009"){//유트로에스펜
		 //$("#requestEtcInfo").val("보냉가방,주사가이드,케이스,네임택,바늘가리개");
		 $("#requestEtcInfo").val("보냉가방,주사가이드,케이스,네임택");
	} else if("6101200009" == "6101200007"){//유트로핀주 12IU
		$("#requestEtcInfo").val("보냉가방,주사가이드,바이알케이스");
	}
}

$(function(){
	$("select[name='requestCottonNeedleAmount'] option").remove();
	$("select[name='requestAddCotton'] option").remove();
	$("#requestCottonNeedleAmount_txt").text("0 개");
	$("#requestAddCotton_txt").text("0 개");
	  if("6101200009"  ==  "6101200001"){//유트로핀
		 $("#requestCottonNeedleAmount_txt").text("100개");
		  $("#requestCottonNeedleAmount").append("<option value='0'>0 개</option>");
		  $("#requestCottonNeedleAmount").append("<option value='100'  selected='selected'>100 개</option>");
		  $("#requestCottonNeedleAmount").append("<option value='200'>200 개</option>");
		  $("#requestAddCotton_txt").text("200개");
		  $("#requestAddCotton").append("<option value='0'>0 개</option>");
	 	  $("#requestAddCotton").append("<option value='100'>100 개</option>");
	 	  $("#requestAddCotton").append("<option value='200' selected='selected'>200 개</option>");




	  }  else if( "6101200009"  ==  "6101200006"){//유트로핀 펜
	     $("#requestCottonNeedleAmount_txt").text("100개");
	     $("#requestCottonNeedleAmount").append("<option value='0'>0 개</option>");
			  $("#requestCottonNeedleAmount").append("<option value='100' selected='selected'>100 개</option>");
		  $("#requestCottonNeedleAmount").append("<option value='200'>200 개</option>");
		 $("#requestAddCotton_txt").text("200개");
		 $("#requestAddCotton").append("<option value='0'>0 개</option>");
			 $("#requestAddCotton").append("<option value='100'>100 개</option>");
			 $("#requestAddCotton").append("<option value='200' selected='selected'>200 개</option>");


	  }	else if( "6101200009"  == "6101200003"){//유트로핀플러스
	     $("#requestCottonNeedleAmount_txt").text("50개");
	     $("#requestCottonNeedleAmount").append("<option value='0'>0 개</option>");
		 $("#requestCottonNeedleAmount").append("<option value='50'  selected='selected'>50 개</option>");
		 $("#requestAddCotton_txt").text("100개");
		 $("#requestAddCotton").append("<option value='0'>0 개</option>");
		 $("#requestAddCotton").append("<option value='100'  selected='selected'>100 개</option>");


	  }	else if("6101200009"  == "6101200009"){//유트로에스펜
		  $("#requestCottonNeedleAmount_txt").text("100개");
		  $("#requestCottonNeedleAmount").append("<option value='0'>0 개</option>");
		  $("#requestCottonNeedleAmount").append("<option value='100'  selected='selected'>100 개</option>");
		  $("#requestCottonNeedleAmount").append("<option value='200'>200 개</option>");
		  $("#requestAddCotton_txt").text("200개");
		  $("#requestAddCotton").append("<option value='0'>0 개</option>");
	 	  $("#requestAddCotton").append("<option value='100'>100 개</option>");
	 	  $("#requestAddCotton").append("<option value='200' selected='selected'>200 개</option>");


	  } else if("6101200009"  ==  "6101200007"){//유트로핀주 12IU
		  $("#requestCottonNeedleAmount_txt").text("100개");
		  $("#requestCottonNeedleAmount").append("<option value='0'>0 개</option>");
		  $("#requestCottonNeedleAmount").append("<option value='100'  selected='selected'>100 개</option>");
		  $("#requestCottonNeedleAmount").append("<option value='200'>200 개</option>");
		  $("#requestAddCotton_txt").text("200개");
		  $("#requestAddCotton").append("<option value='0'>0 개</option>");
	 	  $("#requestAddCotton").append("<option value='100'>100 개</option>");
	 	  $("#requestAddCotton").append("<option value='200' selected='selected'>200 개</option>");

	  }

  });


    // 우편번호 찾기 찾기 화면을 넣을 element
    //var element_wrap = document.getElementById('addr_wrap');
    var element_layer = document.getElementById('layer');

    /*function foldDaumPostcode() {
        // iframe을 넣은 element를 안보이게 한다.
        element_wrap.style.display = 'none';
    }*/
    
    function closeDaumPostcode() {
        // iframe을 넣은 element를 안보이게 한다.
        element_layer.style.display = 'none';
    }


    function sample2_execDaumPostcode() {
        new daum.Postcode({
            oncomplete: function(data) {
                // 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.

                // 각 주소의 노출 규칙에 따라 주소를 조합한다.
                // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
                var addr = ''; // 주소 변수
                var extraAddr = ''; // 참고항목 변수

                //사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
                if (data.userSelectedType === 'R') { // 사용자가 도로명 주소를 선택했을 경우
                    addr = data.roadAddress;
                } else { // 사용자가 지번 주소를 선택했을 경우(J)
                    addr = data.jibunAddress;
                }

                // 사용자가 선택한 주소가 도로명 타입일때 참고항목을 조합한다.
                if(data.userSelectedType === 'R'){
                    // 법정동명이 있을 경우 추가한다. (법정리는 제외)
                    // 법정동의 경우 마지막 문자가 "동/로/가"로 끝난다.
                    if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
                        extraAddr += data.bname;
                    }
                    // 건물명이 있고, 공동주택일 경우 추가한다.
                    if(data.buildingName !== '' && data.apartment === 'Y'){
                        extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                    }
                    // 표시할 참고항목이 있을 경우, 괄호까지 추가한 최종 문자열을 만든다.
                    if(extraAddr !== ''){
                        extraAddr = ' (' + extraAddr + ')';
                    }
                    // 조합된 참고항목을 해당 필드에 넣는다.
                    //document.getElementById("pAddr2").value = extraAddr;
                    addr = addr + extraAddr;

                } else {
                    document.getElementById("pAddr2").value = '';
                }

                // 우편번호와 주소 정보를 해당 필드에 넣는다.
                document.getElementById('pPost').value = data.zonecode;
                document.getElementById("pAddr1").value = addr;
                // 커서를 상세주소 필드로 이동한다.
                document.getElementById("pAddr2").focus();
                $("#addr_box01").removeClass("blind");
                $("#addr_box02").addClass("blind");

                // iframe을 넣은 element를 안보이게 한다.
                // (autoClose:false 기능을 이용한다면, 아래 코드를 제거해야 화면에서 사라지지 않는다.)
                element_layer.style.display = 'none';


            },
            width : '100%',
            height : '100%',
            maxSuggestItems : 5
        }).embed(element_layer);

        // iframe을 넣은 element를 보이게 한다.
        element_layer.style.display = 'block';

        // iframe을 넣은 element의 위치를 화면의 가운데로 이동시킨다.
        initLayerPosition();
    }


    function initLayerPosition(){
        var width = 300; //우편번호서비스가 들어갈 element의 width
        var height = 400; //우편번호서비스가 들어갈 element의 height
        var borderWidth = 5; //샘플에서 사용하는 border의 두께

        // 위에서 선언한 값들을 실제 element에 넣는다.
        element_layer.style.width = width + 'px';
        element_layer.style.height = height + 'px';
        element_layer.style.border = borderWidth + 'px solid';
        // 실행되는 순간의 화면 너비와 높이 값을 가져와서 중앙에 뜰 수 있도록 위치를 계산한다.
        element_layer.style.left = (((window.innerWidth || document.documentElement.clientWidth) - width)/2 - borderWidth) + 'px';
        element_layer.style.top = (((window.innerHeight || document.documentElement.clientHeight) - height)/2 - borderWidth) + 'px';
    }


 if("Y" == 'Y' || Number("1") > 0 || "Y" == 'N'){
	 console.log("구환");

	    $('input[type=radio][name=pProductSort]').on('change', function() {
	/*     $("#pProductSort").change(function() { */
	    	$("select[name='requestCottonNeedleAmount'] option").remove();
	    	$("select[name='requestAddCotton'] option").remove();
	    	$("#requestCottonNeedleAmount_txt").text("0 개");
	    	$("#requestAddCotton_txt").text("0 개");
	    	  if( $("input[type='radio']:checked").val() == "6101200001"){
	    		  $("#requestCottonNeedleAmount").append("<option value='0' selected='selected'>0 개</option>");
	    		  $("#requestCottonNeedleAmount").append("<option value='100'>100 개</option>");
	    		  $("#requestCottonNeedleAmount").append("<option value='200'>200 개</option>");

	    		 $("#requestAddCotton").append("<option value='0' selected='selected'>0 개</option>");
	     		 $("#requestAddCotton").append("<option value='100'>100 개</option>");
	     		 $("#requestAddCotton").append("<option value='200'>200 개</option>");


	    	  } else if( $("input[type='radio']:checked").val() == "6101200006"){
	    		  $("#requestCottonNeedleAmount").append("<option value='0' selected='selected'>0 개</option>");
	     		  $("#requestCottonNeedleAmount").append("<option value='100'>100 개</option>");
	    		  $("#requestCottonNeedleAmount").append("<option value='200'>200 개</option>");
	    	/*
	    		   <!--유트로핀펜 주사바늘 0일때 알콜솜 100,200,300 으로 세팅 2021-02-03--> */

	   		    if($("#requestCottonNeedleAmount").val() != "0"){
		   			 $("#requestAddCotton").append("<option value='0' selected='selected'>0 개</option>");
	        		 $("#requestAddCotton").append("<option value='100'>100 개</option>");
	         		 $("#requestAddCotton").append("<option value='200'>200 개</option>");
	    	     } else {
	    			 $("#requestAddCotton").append("<option value='0' selected='selected'>0 개</option>");
	         		 $("#requestAddCotton").append("<option value='100'>100 개</option>");
	         		 $("#requestAddCotton").append("<option value='200'>200 개</option>");
	    	     }



	    	  } else if( $("input[type='radio']:checked").val()== "6101200003"){
	    		  $("#requestCottonNeedleAmount").append("<option value='0' selected='selected'>0 개</option>");
	    		  $("#requestCottonNeedleAmount").append("<option value='50'>50 개</option>");

	   			  $("#requestAddCotton").append("<option value='0' selected='selected'>0 개</option>");
	        	  $("#requestAddCotton").append("<option value='100'>100 개</option>");


	    	  } else {
	     		  $("#requestCottonNeedleAmount").append("<option value='0' selected='selected'>0 개</option>");
	    		  $("#requestCottonNeedleAmount").append("<option value='100'>100 개</option>");
	    		  $("#requestCottonNeedleAmount").append("<option value='200'>200 개</option>");

	   			  $("#requestAddCotton").append("<option value='0' selected='selected'>0 개</option>");
	        	  $("#requestAddCotton").append("<option value='100'>100 개</option>");
	        	  $("#requestAddCotton").append("<option value='200'>200 개</option>");


	    	  }
	    	});
	    //주사바늘,추가 알콜솜 로직 변경 2020-01-30
	    $("#requestCottonNeedleAmount").change(function() {
		    	if( $("input[type='radio']:checked").val() == "6101200006" ||  $("input[type='radio']:checked").val() == "6101200009"){
		    		$("select[name='requestAddCotton'] option").remove();
		    		  var changeValue = $("#requestCottonNeedleAmount").val()*2;
		    		  $("#requestAddCotton_txt").text(changeValue +" 개");
		    		  $("select#requestAddCotton option").remove();
		    		  $("#requestAddCotton").append("<option value='0'>0 개</option>");
		    		  $("#requestAddCotton").append("<option value='100'>100 개</option>");
		    		  $("#requestAddCotton").append("<option value='200'>200 개</option>");
		    		  if(changeValue == "400"){
		    			  $("#requestAddCotton").append("<option value='400'>400 개</option>");
		    		  }

		    		  $("#requestAddCotton").val(changeValue).prop("selected", true);
		    	}

		    	if( $("input[type='radio']:checked").val() == "6101200001" ||  $("input[type='radio']:checked").val() == "6101200007"){
		    		  var changeValue = $("#requestCottonNeedleAmount").val()*2;
		    		  $("#requestAddCotton_txt").text(changeValue +" 개");
		    		  $("select#requestAddCotton option").remove();
		    		  $("#requestAddCotton").append("<option value='0'>0 개</option>");
		    		  $("#requestAddCotton").append("<option value='100'>100 개</option>");
		    		  $("#requestAddCotton").append("<option value='200'>200 개</option>");
		    		  if(changeValue == "400"){
		    			  $("#requestAddCotton").append("<option value='400'>400 개</option>");
		    		  }

		    		  $("#requestAddCotton").val(changeValue).prop("selected", true);
		    	}

			    if( $("input[type='radio']:checked").val()== "6101200003"){
			  		  var changeValue = $("#requestCottonNeedleAmount").val()*2;
			  		  $("#requestAddCotton_txt").text(changeValue +" 개");
			  		  $("select#requestAddCotton option").remove();
			  		  $("#requestAddCotton").append("<option value='0'>0 개</option>");
					  $("#requestAddCotton").append("<option value='100'>100 개</option>");

					  $("#requestAddCotton").val(changeValue).prop("selected", true);
			  	}

	    });
	 } else {
		 console.log("신환");
	   $("select[name='requestCottonNeedleAmount'] option").remove();
	   $("select[name='requestAddCotton'] option").remove();
	   $('input[type=radio][name=pProductSort]').on('change', function() {
			/*     $("#pProductSort").change(function() { */
			    	$("select[name='requestCottonNeedleAmount'] option").remove();
			    	$("select[name='requestAddCotton'] option").remove();
			    	$("#requestCottonNeedleAmount_txt").text("0 개");
			    	$("#requestAddCotton_txt").text("0 개");
			    	  if( $("input[type='radio']:checked").val() == "6101200001"){//유트로핀
			    		 $("#requestCottonNeedleAmount_txt").text("100개");
			    		  $("#requestCottonNeedleAmount").append("<option value='0'>0 개</option>");
			    		  $("#requestCottonNeedleAmount").append("<option value='100'  selected='selected'>100 개</option>");
			    		  $("#requestCottonNeedleAmount").append("<option value='200'>200 개</option>");
				    	  $("#requestAddCotton_txt").text("200개");
				    	  $("#requestAddCotton").append("<option value='0'>0 개</option>");
				     	  $("#requestAddCotton").append("<option value='100'>100 개</option>");
				     	  $("#requestAddCotton").append("<option value='200' selected='selected'>200 개</option>");

			     		 $("#requestEtcInfo").val("보냉가방,주사가이드,바이알케이스");


			    	  }  else if( $("input[type='radio']:checked").val()== "6101200006"){//유트로핀 펜
		    		     $("#requestCottonNeedleAmount_txt").text("100개");
		    		     $("#requestCottonNeedleAmount").append("<option value='0'>0 개</option>");
			     		  $("#requestCottonNeedleAmount").append("<option value='100' selected='selected'>100 개</option>");
			    		  $("#requestCottonNeedleAmount").append("<option value='200'>200 개</option>");
			    		 $("#requestAddCotton_txt").text("200개");
			    		 $("#requestAddCotton").append("<option value='0'>0 개</option>");
		         		 $("#requestAddCotton").append("<option value='100'>100 개</option>");
		         		 $("#requestAddCotton").append("<option value='200' selected='selected'>200 개</option>");
			     		 //$("#requestEtcInfo").val("보냉가방,주사가이드,케이스,네임택,바늘가리개");
			     		 $("#requestEtcInfo").val("보냉가방,주사가이드,케이스,네임택");

			    	  }	else if( $("input[type='radio']:checked").val()== "6101200003"){//유트로핀플러스
		    		     $("#requestCottonNeedleAmount_txt").text("50개");
		    		     $("#requestCottonNeedleAmount").append("<option value='0'>0 개</option>");
			    		 $("#requestCottonNeedleAmount").append("<option value='50'  selected='selected'>50 개</option>");
			    		 $("#requestAddCotton_txt").text("100개");
			    		 $("#requestAddCotton").append("<option value='0'>0 개</option>");
			        	 $("#requestAddCotton").append("<option value='100'  selected='selected'>100 개</option>");
			     		 $("#requestEtcInfo").val("보냉가방,주사가이드.바이알케이스,쉐이커,밴드");

			    	  }	else if( $("input[type='radio']:checked").val()== "6101200009"){//유트로에스펜
			    		  $("#requestCottonNeedleAmount_txt").text("100개");
			    		  $("#requestCottonNeedleAmount").append("<option value='0'>0 개</option>");
			    		  $("#requestCottonNeedleAmount").append("<option value='100'  selected='selected'>100 개</option>");
			    		  $("#requestCottonNeedleAmount").append("<option value='200'>200 개</option>");
				    	  $("#requestAddCotton_txt").text("200개");
				    	  $("#requestAddCotton").append("<option value='0'>0 개</option>");
				     	  $("#requestAddCotton").append("<option value='100'>100 개</option>");
				     	  $("#requestAddCotton").append("<option value='200' selected='selected'>200 개</option>");
			     		  //$("#requestEtcInfo").val("보냉가방,주사가이드,케이스,네임택,바늘가리개");
			     		  $("#requestEtcInfo").val("보냉가방,주사가이드,케이스,네임택");

			    	  } else if( $("input[type='radio']:checked").val()== "6101200007"){//유트로핀주 12IU
			    		  $("#requestCottonNeedleAmount_txt").text("100개");
			    		  $("#requestCottonNeedleAmount").append("<option value='0'>0 개</option>");
			    		  $("#requestCottonNeedleAmount").append("<option value='100'  selected='selected'>100 개</option>");
			    		  $("#requestCottonNeedleAmount").append("<option value='200'>200 개</option>");
				    	  $("#requestAddCotton_txt").text("200개");
				    	  $("#requestAddCotton").append("<option value='0'>0 개</option>");
				     	  $("#requestAddCotton").append("<option value='100'>100 개</option>");
				     	  $("#requestAddCotton").append("<option value='200' selected='selected'>200 개</option>");
				     	$("#requestEtcInfo").val("보냉가방,주사가이드,바이알케이스");
			    	  }


			    	});

	   //주사바늘,추가 알콜솜 로직 변경 2020-01-30
	    $("#requestCottonNeedleAmount").change(function() {
		    	if( $("input[type='radio']:checked").val() == "6101200006" ||  $("input[type='radio']:checked").val() == "6101200009"){
		    		$("select[name='requestAddCotton'] option").remove();
		    		  var changeValue = $("#requestCottonNeedleAmount").val()*2;
		    		  $("#requestAddCotton_txt").text(changeValue +" 개");
		    		  $("select#requestAddCotton option").remove();
		    		  $("#requestAddCotton").append("<option value='0'>0 개</option>");
		    		  $("#requestAddCotton").append("<option value='100'>100 개</option>");
		    		  $("#requestAddCotton").append("<option value='200'>200 개</option>");
		    		  if(changeValue == "400"){
		    			  $("#requestAddCotton").append("<option value='400'>400 개</option>");
		    		  }

		    		  $("#requestAddCotton").val(changeValue).prop("selected", true);
		    	}

		    	if( $("input[type='radio']:checked").val() == "6101200001" ||  $("input[type='radio']:checked").val() == "6101200007"){
		    		  var changeValue = $("#requestCottonNeedleAmount").val()*2;
		    		  $("#requestAddCotton_txt").text(changeValue +" 개");
		    		  $("select#requestAddCotton option").remove();
		    		  $("#requestAddCotton").append("<option value='0'>0 개</option>");
		    		  $("#requestAddCotton").append("<option value='100'>100 개</option>");
		    		  $("#requestAddCotton").append("<option value='200'>200 개</option>");
		    		  if(changeValue == "400"){
		    			  $("#requestAddCotton").append("<option value='400'>400 개</option>");
		    		  }

		    		  $("#requestAddCotton").val(changeValue).prop("selected", true);
		    	}

			    if( $("input[type='radio']:checked").val()== "6101200003"){
			  		  var changeValue = $("#requestCottonNeedleAmount").val()*2;
			  		  $("#requestAddCotton_txt").text(changeValue +" 개");
			  		  $("select#requestAddCotton option").remove();
			  		  $("#requestAddCotton").append("<option value='0'>0 개</option>");
					  $("#requestAddCotton").append("<option value='100'>100 개</option>");

					  $("#requestAddCotton").val(changeValue).prop("selected", true);
			  	}

	    });

 	}




	function fnHospitalSearch(){
   	    var hospital_list ="";
   	 $("#search_hospital").html("");


   		var chkData = { "searchKeyword": $("#search_name").val() };

	 	if($("#search_name").val() == "") {
	  		alert("병원명을 입력해주세요");
	  		$("#search_name").focus();
	  		return;
	  	}
	  	$("#loading").show();
	 	 setTimeout(function() {
  		      actionurl = "/search_hospital.do";
		      $.ajax({
		          async: false,
		          type: "POST",
		          url : actionurl,
		          data:chkData,
		          dataType : "json",
		          complete: function(){ $("#loading").hide();},
		          success: function(obj){

		        	if(obj.result.length < 1){
		        	 hospital_list += "<ul>";
		             hospital_list += "<li class='result_none'><p>검색결과가 없습니다.</p></li>";
		             hospital_list += "</ul>";
		        	} else {
		        				hospital_list += "<ul>";
					           		 for(var i=0;i < obj.result.length;i++){
					           			 hospital_list += "<li><a href='javascript:selectHospitalName(\""+obj.result[i].hmHospCd+"\",\""+obj.result[i].hmHospNm+"\",\""+obj.result[i].hmHospAddress1+"\",\""+obj.result[i].hmHospAddress2+"\");''>"+obj.result[i].hmHospNm+"("+obj.result[i].hmHospAddress1+obj.result[i].hmHospAddress2+")</a></li>";
					           		 }
		        		 		hospital_list += "</ul>";
		        	}

		          },
		          error: function(xhr, option, error){
		                alert(xhr.status+" | "+error); //오류코드 | 오류내용
		          }
		          /*error : function(success){
		              meg = "서버와 통신중 에러가 발생하였습니다."
		              alert("처리결과 : "+meg);
		          }*/
		      });


		   	 $("#search_hospital").html(hospital_list);
		}, 0); // End setTimeout(function()

   	}

 	function fnDoctorSearch(){
  		var hm_hosp_cd = $("#cHospitalIdx").val();//선택한 병원 코드
		if(hm_hosp_cd == null || hm_hosp_cd == ""){
			alert("병원을 먼저 선택하시면 해당 병원 소속 의사를 검색합니다.");
			return;
		}

		if($("#search_doctor_name").val() == "") {
      		alert("의사명을 입력해주세요");
      		$("#search_doctor_name").focus();
      		return;
      	}

			 var doctor_list ="";
	      	 var chkData = { "hmHospCd": $("#cHospitalIdx").val(),"searchKeyword": $("#search_doctor_name").val() };
	     	 $("#search_doctor").html("");
	         $("#loading").show();
	         setTimeout(function() {
		         actionurl = "/search_doctor_nopaging.do";
		         $.ajax({
		             async: false,
		             type: "POST",
		             url : actionurl,
		             data:chkData,
		             dataType : "json",
		             complete: function(){ $("#loading").hide();},
		             success: function(obj){

		           	if(obj.result.length < 1){
		           		doctor_list += "<ul>";
		           		doctor_list += "<li class='result_none'><p>검색결과가 없습니다.</p></li>";
		           		doctor_list += "</ul>";
		           	} else {
		           		doctor_list += "<ul>";
					           		 for(var i=0;i < obj.result.length;i++){
					           			doctor_list += "<li><a href='javascript:selectDoctorName(\""+obj.result[i].docNo+"\",\""+obj.result[i].docNm+"\");''>"+obj.result[i].docNm+"("+obj.result[i].docNo+")</a></li>";
					           		 }
					           		doctor_list += "</ul>";
		           	}

		             },
		             error: function(xhr, option, error){
		                   alert(xhr.status+" | "+error); //오류코드 | 오류내용
		             }
		             /*error : function(success){
		                 meg = "서버와 통신중 에러가 발생하였습니다."
		                 alert("처리결과 : "+meg);
		             }*/
		         });


		      	 $("#search_doctor").html(doctor_list);
	     	}, 0); // End setTimeout(function()

  	}

  	function selectHospitalName(hidx,hname,haddr1,haddr2){
   	   $("#cHospitalIdx").val(hidx);
   	   $("#cHospitalName").val(hname);
   	   $(".pop_mask").css("display","none");
   	   $(".pop_search").css("display","none");

   	}

	function selectDoctorName(docNo,docNm){
 	   $("#cDoctorName").val(docNm);
 	   $("#doctOnkyCd").val(docNo);
	   $(".pop_mask_doctor").css("display","none");
	   $(".pop_search_doctor").css("display","none");
	   $(".pop_mask").css("display","none");
 	}

</script>

		<!-- Google tag (gtag.js) -->
		<script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-9YP2FZMHRQ"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());
			gtag('config', 'G-9YP2FZMHRQ');
		</script>
	
</html>
